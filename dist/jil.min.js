!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jil",[],e):"object"==typeof exports?exports.jil=e():t.jil=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=16)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e.Vector2=n.Vector2;var s=i(12);e.Vector2Extend=s.Vector2Extend;var r=i(20);e.isString=r.isString,e.getComponent=r.getComponent,e.shuffleArray=r.shuffleArray,e.getParam=r.getParam,e.getParamBool=r.getParamBool,e.getParamNum=r.getParamNum,e.getParamVec2=r.getParamVec2,e.getParamVec2Extend=r.getParamVec2Extend},function(t,e,i){!function(t){"use strict";var e,i="http://www.w3.org/2000/svg",n=[],s=function(t,e){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),e&&Object.keys(e).forEach(function(t){i[t]=e[t]}),i},r=function(t,e){return t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties)},o=function(t){if("string"!=typeof t)throw new Error("Style values must be strings")},a=function(t,e,i){if(""!==e.vnodeSelector)for(var n=i;n<t.length;n++)if(r(t[n],e))return n;return-1},h=function(t,e,i,n){var s=t[e];if(""!==s.vnodeSelector){var o=s.properties,a=o?void 0===o.key?o.bind:o.key:void 0;if(!a)for(var h=0;h<t.length;h++)if(h!==e){var c=t[h];if(r(c,s))throw new Error(i.vnodeSelector+" had a "+s.vnodeSelector+" child "+("added"===n?n:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.")}}},c=function(t){if(t.properties){var e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},l=[],u=!1,d=function(t){(t.children||[]).forEach(d),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},p=function(){u=!1,l.forEach(d),l.length=0},f=function(t){l.push(t),u||(u=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(p,{timeout:16}):setTimeout(p,16))},v=function(t){var e=t.domNode;if(t.properties){var i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,function(){e.parentNode&&(e.parentNode.removeChild(e),f(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),f(t))},y=function(t,e,n){!function(t,e,i){if(e)for(var n=0,s=e;n<s.length;n++){var r=s[n];m(r,t,void 0,i)}}(t,e.children,n),e.text&&(t.textContent=e.text),function(t,e,n){if(e)for(var s=n.eventHandlerInterceptor,r=Object.keys(e),a=r.length,h=function(a){var h,c=r[a],l=e[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)g(t,l,!0);else if("classes"===c)for(var u=Object.keys(l),d=u.length,p=0;p<d;p++){var f=u[p];l[f]&&t.classList.add(f)}else if("styles"===c)for(var v=Object.keys(l),y=v.length,p=0;p<y;p++){var m=v[p],w=l[m];w&&(o(w),n.styleApplyer(t,m,w))}else if("key"!==c&&null!=l){var b=typeof l;"function"===b?0===c.lastIndexOf("on",0)&&(s&&(l=s(c,l,t,e)),"oninput"===c&&(h=l,l=function(t){h.apply(this,[t]),t.target["oninput-value"]=t.target.value}),t[c]=l):n.namespace===i?"href"===c?t.setAttributeNS("http://www.w3.org/1999/xlink",c,l):t.setAttribute(c,l):"string"===b&&"value"!==c&&"innerHTML"!==c?t.setAttribute(c,l):t[c]=l}},c=0;c<a;c++)h(c)}(t,e.properties,n),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,n,e.vnodeSelector,e.properties,e.children])},m=function(t,e,n,r){var o,a=0,h=t.vnodeSelector,c=e.ownerDocument;if(""===h)o=t.domNode=c.createTextNode(t.text),void 0!==n?e.insertBefore(o,n):e.appendChild(o);else{for(var l=0;l<=h.length;++l){var u=h.charAt(l);if(l===h.length||"."===u||"#"===u){var d=h.charAt(a-1),p=h.slice(a,l);"."===d?o.classList.add(p):"#"===d?o.id=p:("svg"===p&&(r=s(r,{namespace:i})),void 0!==r.namespace?o=t.domNode=c.createElementNS(r.namespace,p):(o=t.domNode=t.domNode||c.createElement(p),"input"===p&&t.properties&&void 0!==t.properties.type&&o.setAttribute("type",t.properties.type)),void 0!==n?e.insertBefore(o,n):o.parentNode!==e&&e.appendChild(o)),a=l+1}}y(o,t,r)}},g=function(t,e,i){e&&e.split(" ").forEach(function(e){return t.classList.toggle(e,i)})};e=function(t,l,u){var d=t.domNode,p=!1;if(t===l)return!1;var f=!1;if(""===l.vnodeSelector){if(l.text!==t.text){var y=d.ownerDocument.createTextNode(l.text);return d.parentNode.replaceChild(y,d),l.domNode=y,p=!0}l.domNode=d}else 0===l.vnodeSelector.lastIndexOf("svg",0)&&(u=s(u,{namespace:i})),t.text!==l.text&&(f=!0,void 0===l.text?d.removeChild(d.firstChild):d.textContent=l.text),l.domNode=d,f=function(t,i,s,o,l){if(s===o)return!1;o=o||n;for(var u,d=(s=s||n).length,p=o.length,f=0,y=0,g=!1;y<p;){var w=f<d?s[f]:void 0,b=o[y];if(void 0!==w&&r(w,b))g=e(w,b,l)||g,f++;else{var _=a(s,b,f+1);if(_>=0){for(u=f;u<_;u++)v(s[u]),h(s,u,t,"removed");g=e(s[_],b,l)||g,f=_+1}else m(b,i,f<d?s[f].domNode:void 0,l),c(b),h(o,y,t,"added")}y++}if(d>f)for(u=f;u<d;u++)v(s[u]),h(s,u,t,"removed");return g}(l,d,t.children,l.children,u)||f,f=function(t,e,n,s){if(n){for(var r=!1,a=Object.keys(n),h=a.length,c=0;c<h;c++){var l=a[c],u=n[l],d=e[l];if("class"===l)d!==u&&(g(t,d,!1),g(t,u,!0));else if("classes"===l)for(var p=t.classList,f=Object.keys(u),v=f.length,y=0;y<v;y++){var m=f[y],w=!!u[m],b=!!d[m];w!==b&&(r=!0,w?p.add(m):p.remove(m))}else if("styles"===l)for(var _=Object.keys(u),E=_.length,y=0;y<E;y++){var k=_[y],C=u[k],P=d[k];C!==P&&(r=!0,C?(o(C),s.styleApplyer(t,k,C)):s.styleApplyer(t,k,""))}else if(u||"string"!=typeof d||(u=""),"value"===l){var x=t[l];x!==u&&(t["oninput-value"]?x===t["oninput-value"]:u!==d)&&(t[l]=u,t["oninput-value"]=void 0),u!==d&&(r=!0)}else if(u!==d){var T=typeof u;"function"===T&&s.eventHandlerInterceptor||(s.namespace===i?"href"===l?t.setAttributeNS("http://www.w3.org/1999/xlink",l,u):t.setAttribute(l,u):"string"===T&&"innerHTML"!==l?"role"===l&&""===u?t.removeAttribute(l):t.setAttribute(l,u):t[l]!==u&&(t[l]=u),r=!0)}}return r}}(d,t.properties,l.properties,u)||f,l.properties&&l.properties.afterUpdate&&l.properties.afterUpdate.apply(l.properties.bind||l.properties,[d,u,l.vnodeSelector,l.properties,l.children]);return f&&l.properties&&l.properties.updateAnimation&&l.properties.updateAnimation(d,l.properties,t.properties),p};var w,b=function(t,i){return{getLastRender:function(){return t},update:function(n){if(t.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var s=t;t=n,e(s,n,i)},domNode:t.domNode}},_={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(t,e,i){t.style[e]=i}},E=function(t){return s(_,t)},k={create:function(t,e){return e=E(e),m(t,document.createElement("div"),void 0,e),b(t,e)},append:function(t,e,i){return i=E(i),m(e,t,void 0,i),b(e,i)},insertBefore:function(t,e,i){return i=E(i),m(e,t.parentNode,t,i),b(e,i)},merge:function(t,e,i){return i=E(i),e.domNode=t,y(t,e,i),b(e,i)},replace:function(t,e,i){return i=E(i),m(e,t.parentNode,t,i),t.parentNode.removeChild(t),b(e,i)}},C=function(t,e,i){for(var n=0,s=e.length;n<s;n++){var r=e[n];Array.isArray(r)?C(t,r,i):null!=r&&!1!==r&&("string"==typeof r&&(r={vnodeSelector:"",properties:void 0,children:void 0,text:r.toString(),domNode:null}),i.push(r))}};w=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){return t.filter(e)[0]};var P=function(t,e,i){var n=function(n){i("domEvent",n);var s=e(),r=function(t,e){for(var i=[];t!==e;)i.push(t),t=t.parentNode;return i}(n.currentTarget,s.domNode);r.reverse();var o,a=function(t,e){var i=t;return e.forEach(function(t){i=i&&i.children?w(i.children,function(e){return e.domNode===t}):void 0}),i}(s.getLastRender(),r);return t.scheduleRender(),a&&(o=a.properties["on"+n.type].apply(a.properties.bind||this,arguments)),i("domEventProcessed",n),o};return function(t,e,i,s){return n}};t.dom=k,t.h=function(t,e,i){if(Array.isArray(e))i=e,e=void 0;else if(e&&("string"==typeof e||e.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var n,s;return i&&1===i.length&&"string"==typeof i[0]?n=i[0]:i&&(C(t,i,s=[]),0===s.length&&(s=void 0)),{vnodeSelector:t,properties:e,children:s,text:""===n?void 0:n,domNode:null}},t.createProjector=function(t){var e,i,n=E(t),s=n.performanceLogger,r=!0,o=!1,a=[],h=[],c=function(t,i,r){var o;n.eventHandlerInterceptor=P(e,function(){return o},s),o=t(i,r(),n),a.push(o),h.push(r)},l=function(){if(i=void 0,r){r=!1,s("renderStart",void 0);for(var t=0;t<a.length;t++){var e=h[t]();s("rendered",void 0),a[t].update(e),s("patched",void 0)}s("renderDone",void 0),r=!0}};return e={renderNow:l,scheduleRender:function(){i||o||(i=requestAnimationFrame(l))},stop:function(){i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:function(){o=!1,r=!0,e.scheduleRender()},append:function(t,e){c(k.append,t,e)},insertBefore:function(t,e){c(k.insertBefore,t,e)},merge:function(t,e){c(k.merge,t,e)},replace:function(t,e){c(k.replace,t,e)},detach:function(t){for(var e=0;e<h.length;e++)if(h[e]===t)return h.splice(e,1),a.splice(e,1)[0];throw new Error("renderFunction was not found")}}},t.createCache=function(){var t,e;return{invalidate:function(){e=void 0,t=void 0},result:function(i,n){if(t)for(var s=0;s<i.length;s++)t[s]!==i[s]&&(e=void 0);return e||(e=n(),t=i),e}}},t.createMapping=function(t,e,i){var n=[],s=[];return{results:s,map:function(r){for(var o=r.map(t),a=s.slice(),h=0,c=0;c<r.length;c++){var l=r[c],u=o[c];if(u===n[h])s[c]=a[h],i(l,a[h],c),h++;else{for(var d=!1,p=1;p<n.length+1;p++){var f=(h+p)%n.length;if(n[f]===u){s[c]=a[f],i(r[c],a[f],c),h=f+1,d=!0;break}}d||(s[c]=e(l,c))}}s.length=r.length,n=o}}},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19);e.registerComponent=n.registerComponent,e.registerLayout=n.registerLayout,e.registerClassname=n.registerClassname,e.Factory=n.Factory;var s=i(21);e.JilNode=s.JilNode;var r=i(27);e.Transform=r.Transform;var o=i(28);e.Clickable=o.Clickable;var a=i(29);e.KeyboardEvents=a.KeyboardEvents;var h=i(30);e.MouseEvents=h.MouseEvents;var c=i(31);e.TransformTween=c.TransformTween;var l=i(32);e.Layout=l.Layout;var u=i(33);e.defaultLayout=u.defaultLayout;var d=i(34);e.verticalLayout=d.verticalLayout;var p=i(35);e.horizontalLayout=p.horizontalLayout;var f=i(36);e.gridLayout=f.gridLayout},function(t,e,i){"use strict";function n(t,e){var i={};switch(typeof e){case"object":i=n(e);break;case"function":i=n(e.prototype)}return i;function n(e){var i={};return Object.getOwnPropertyNames(e).map(function(n){if(t.indexOf(n)<0){var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s)return;s.get||s.set?i[n]=s:"function"==typeof s.value&&(i[n]=s)}}),i}}Object.defineProperty(e,"__esModule",{value:!0}),e.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,i){!function(t,e){for(var i=Object.getOwnPropertyNames(t.prototype),s=0,r=e;s<r.length;s++){var o=n(i,r[s]);Object.defineProperties(t.prototype,o)}}(e.constructor,t.reverse())}},e.delegate=function(t){return function(e,i){e.constructor.prototype[i]=t}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(7)),n(i(9)),n(i(13)),n(i(14)),n(i(25));var s=i(10),r=i(10);e.EventQueue=r.default,e.queue=function(){return s.default.global()},e.flushOnce=function(){s.default.global().flushOnce()},e.flush=function(t){void 0===t&&(t=10),s.default.global().flush(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6);e.resolution=new n.Vector2(1280,720)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Vector2=class{constructor(t,e){this.x=0,this.y=0,t&&(this.x=t),e&&(this.y=e)}set(t,e){this.x=t,this.y=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.attach=function(t,e){this._attach(t,e,!1)},t.prototype.once=function(t,e){this._attach(t,e,!0)},t.prototype._attach=function(t,e,i){var n,s,r;if("function"==typeof t)s=t;else if(e||"function"!=typeof t.post){if("object"!=typeof t)throw new Error("Expect a function or object as first argument");if("function"!=typeof e)throw new Error("Expect a function as second argument");n=t,s=e}else r=t;this._listeners?this._listeners=this._listeners.slice():this._listeners=[],this._listeners.push({deleted:!1,boundTo:n,handler:s,event:r,once:i})},t.prototype.detach=function(){for(var t,e,i,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];this._listeners&&0!==this._listeners.length&&(n.length>=1&&("function"==typeof n[0]?e=n[0]:1===n.length&&"function"==typeof n[0].post?i=n[0]:t=n[0]),n.length>=2&&(e=n[1]),this._listeners=this._listeners.filter(function(n){return void 0!==e&&n.handler!==e||void 0!==i&&n.event!==i||void 0!==t&&n.boundTo!==t||(n.deleted=!0,!1)}),0===this._listeners.length&&delete this._listeners)},t.prototype.post=function(t){throw new Error("abstract")},t.prototype.listenerCount=function(){return this._listeners?this._listeners.length:0},t.prototype._call=function(t,e){t.deleted||(t.once&&(t.deleted=!0,this._listeners=this._listeners.filter(function(e){return e!==t}),0===this._listeners.length&&delete this._listeners),t.event?t.event.post.apply(t.event,e):t.handler.apply("object"==typeof t.boundTo?t.boundTo:this,e))},t}();e.BaseEvent=n},function(t,e,i){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTween=class{constructor(){this.events={},this.elapsed=0,this.duration=0,this.timescale=1,this.state=0,this.first=!0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}start(){return 0!==this.state?this:(this.first?this.validate():this.check(),this.state=1,this.parent.addTick(this.tickCb),this.first&&(this.emitEvent(this.events.start),this.first=!1),this)}recycle(){this.reset(!0),this.first=!0}reset(t){this.state=0,t||this.removeParent(),this.loop&&(this.loop.value=this.loop.original),this.loopInit(),this.emitEvent(this.events.restart)}resetAndStart(t){this.loopInit(),this.emitEvent(this.events.restart),this.state=1,t>0&&this.tickCb(t)}setParent(t){return this.removeParent(),this.parent=t,this}setTimescale(t){return this.timescale=t,this}pause(){1===this.state?(this.state=2,this.removeParent()):this.info(1,"Cannot pause this tween ",this.state)}resume(){2===this.state?(this.state=1,this.parent.addTick(this.tickCb)):this.info(1,"Cannot resume this tween ",this.state)}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else if(0===this.state&&this.emitEvent(this.events.start),t){const t=this.yo?this.yo.value*this.duration:0;this.tickCb(this.duration-this.elapsed+t)}else this.elapsed=this.duration,this.complete()}kill(){4!==this.state?(this.state=4,this.removeParent(),this.emitEvent(this.events.kill)):this.info(1,"Cannot kill this tween ",this.state)}setLoop(t){return this.loop||(this.loop={original:1,value:1}),this.loop.original=Math.round(t),this.loop.value=this.loop.original,this}setSettings(t){return this.settings?Object.assign(this.settings,t):this.settings=t,this}complete(){this.state>=3?this.info(1,"Cannot complete this tween ",this.state):(this.state=3,this.removeParent(),this.emitEvent(this.events.complete))}removeParent(){this.parent&&this.parent.removeTick(this.tickCb)}check(){}validate(){}loopInit(){this.elapsed=0}info(t,e,i){!this.settings||t>this.settings.logLevel||console.log(e,i)}emit(t,e){if(this.settings&&!this.settings.safe)return t.apply(this,e);try{t.apply(this,e)}catch(t){console.warn(t)}}emitEvent(t,e){if(t)if(t instanceof Array)for(const i of t)this.emit(i,e);else this.emit(t,e)}onStart(t){return this.onEvent("start",t)}onRestart(t){return this.onEvent("restart",t)}onUpdate(t){return this.onEvent("update",t)}onKilled(t){return this.onEvent("kill",t)}onComplete(t){return this.onEvent("complete",t)}onEvent(t,e){return this.events[t]?this.events[t]instanceof Array?this.events[t].push(e):this.events[t]=[this.events[t],e]:this.events[t]=e,this}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Delay=class extends n.BaseTween{constructor(t){super(),this.remains=0,this.duration=t,this.tickCb=this.tick.bind(this)}tick(t){for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains;const t=Math.max(Math.min(this.elapsed/this.duration,1),0);if(this.events.update&&this.emitEvent(this.events.update,[this.remains,t]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.resetAndStart(0)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(6),r=i(1);e.Sequence=class extends n.BaseTween{constructor(t){if(super(),this.evtTick=new Set,this.tweens=[],this.index=0,this.remains=0,this.tickCb=this.tick.bind(this),t){this.tweens=new Array(t.length);for(let e=0;e<t.length;e++)t[e].setParent(this),this.tweens[e]=[t[e]]}}get count(){return this.tweens.length}loopInit(){this.index=0;for(const t of this.tweens)for(const e of t)e.reset()}addTick(t){this.evtTick.add(t)}removeTick(t){this.evtTick.delete(t)}tick(t){this.state>=3||(this.remains=t*this.timescale,this.elapsed+=this.remains,this.localTick(this.remains))}localTick(t,e){if(this.cur||this.nextTween(),this.cur&&(this.evtTick.forEach(function(e){e(t)}),!0!==e&&this.events.update&&this.emitEvent(this.events.update,[t,0])),this.remains=t,this.cur){for(const t of this.cur)if(3!==t.state)return;if(this.remains=this.cur[0].elapsed-this.cur[0].duration,this.events.stepEnd&&this.emitEvent(this.events.stepEnd,this.cur[0]),this.cur=void 0,this.index++,this.remains>.01)return void this.localTick(this.remains,!0)}if(!this.cur&&this.tweens.length===this.index){if(this.loop&&(this.loop.value--,0!==this.loop.value))return void this.resetAndStart(this.remains);this.complete()}}nextTween(){if(this.cur=this.tweens[this.index],this.cur){for(const t of this.cur)t.start();this.events.stepStart&&this.emitEvent(this.events.stepStart,this.cur[0])}}append(t){return t.setParent(this),this.tweens[this.tweens.length]=[t],this}appendCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}appendInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}prepend(t){return t.setParent(this),this.tweens.unshift([t]),this}prependCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens.unshift([e]),this}prependInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens.unshift([e]),this}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else{for(const e of this.tweens)for(const i of e)0===i.elapsed&&this.emitEvent(this.events.stepStart,i),i.skip(t),this.emitEvent(this.events.stepEnd,i);super.skip()}}kill(){if(4!==this.state){for(const t of this.tweens)for(const e of t)e.kill();super.kill()}else this.info(1,"Cannot kill this tween ",this.state)}join(t){return 0===this.tweens.length?this.append(t):(t.setParent(this),this.tweens[this.tweens.length-1].push(t),this)}onStepStart(t){return this.onEvent("stepStart",t)}onStepEnd(t){return this.onEvent("stepEnd",t)}}},function(t,e,i){"use strict";const n=i(4);t.exports=new n.Fatina},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),s=i(1),r=i(2),o=i(7);let a,h,c;"undefined"!=typeof window&&(h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame),e.Fatina=class{constructor(){this.plugin={},this.loadedPlugins=[],this.eventCreated=[],this.settings={logLevel:0,safe:!0,smooth:!0,maxFrameDt:50,maxFrameNumber:40,maxDt:15e3},this.time=0,this.dt=0,this.lastTime=0,this.initialized=!1}get elapsed(){return this.manager.elapsed}get mainTicker(){return this.initialized||this.init(),this.manager}init(t){return!this.initialized&&(this.manager||(this.manager=new n.Ticker,this.manager.start()),"undefined"==typeof window||t||(a=h(this.updateLoop.bind(this))),this.initialized=!0,!0)}setTimescale(t){this.init(),this.manager.setTimescale(t)}pause(){this.init(),this.manager.pause()}resume(){this.init(),this.manager.resume()}destroy(){this.manager&&this.manager.kill(),a&&c(a),this.initialized=!1}update(t){this.initialized&&this.manager&&(this.manager.tick(t),this.time+=t)}tween(t){const e=new o.Tween(t);return this.addContext(e),e}sequence(t){const e=new r.Sequence(t);return this.addContext(e),e}delay(t){const e=new s.Delay(t);return this.addContext(e),e}setTimeout(t,e){const i=new s.Delay(e).onComplete(t);return this.addContext(i),i.start()}setInterval(t,e){const i=new s.Delay(e).onRestart(t).setLoop(-1);return this.addContext(i),i.start()}addContext(t){this.initialized||this.init(),t.setParent(this.manager),0===this.settings.logLevel&&this.settings.safe||t.setSettings(this.settings),this.emitCreated(t)}ticker(){this.initialized||this.init();const t=new n.Ticker,e=t.tick.bind(t);return t.setParent(this.manager,e),this.manager.addTick(e),t.start(),this.emitCreated(t),t}updateLoop(t){if(this.dt+=t-this.lastTime,this.dt>this.settings.maxDt&&(console.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`),this.dt=this.settings.maxDt),this.settings.smooth){let t=0;for(;this.dt>0&&t<this.settings.maxFrameNumber;){const e=Math.min(this.dt,this.settings.maxFrameDt);this.update(e),this.dt-=e,t++}}else this.update(this.dt),this.dt=0;this.lastTime=t,a=h(this.updateLoop.bind(this))}loadPlugin(t){t.init(this),this.loadedPlugins.push(t),this.info(2,"Plugin Loaded",t.name)}info(t,e,i){t>this.settings.logLevel||(i?console.log(e,i):console.log(e))}emit(t,e){if(!this.settings.safe)return t(e);try{t(e)}catch(t){console.warn(t)}}emitCreated(t){for(const e of this.eventCreated)this.emit(e,t)}addListenerCreated(t){this.eventCreated.push(t)}removeListenerCreated(t){const e=this.eventCreated.indexOf(t);-1!==e&&this.eventCreated.splice(e,1)}setLog(t){this.settings.logLevel=t}setSafe(t){this.settings.safe=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ticker=class{constructor(){this.state=0,this.timescale=1,this.elapsed=0,this.duration=0,this.ticks=new Set,this.newTicks=new Set,this.dt=0}setParent(t,e){this.tickCb=e,this.parent=t}setTimescale(t){this.timescale=t}addTick(t){this.newTicks.add(t)}removeTick(t){this.ticks.delete(t)||this.newTicks.delete(t)}tick(t){1===this.state&&(this.dt=t*this.timescale,this.newTicks.size>0&&(this.newTicks.forEach(t=>this.ticks.add(t)),this.newTicks.clear()),this.ticks.forEach(t=>t(this.dt)),this.elapsed+=this.dt)}start(){0===this.state&&(this.state=1)}pause(){1===this.state&&(this.state=2)}resume(){2===this.state&&(this.state=1)}kill(){this.state>=3||(this.parent&&this.tickCb&&this.parent.removeTick(this.tickCb),this.state=4)}skip(){}reset(){this.state=0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Callback=class extends n.BaseTween{constructor(t){super(),this.callback=t,this.tickCb=this.tick.bind(this)}tick(t){this.elapsed+=t,this.duration=0,this.callback(),this.emitEvent(this.events.update,[t,1]),this.complete()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(0),r=i(2);e.Tween=class extends s.BaseTween{constructor(t){super(),this.prop=[],this.steps=0,this.relative=!1,this.p=0,this.v=0,this.remains=0,this.obj=t,this.tickCb=this.tick.bind(this)}init(t){this.obj=t,this.prop.length=0}validate(){if(!this.obj)throw new Error("undefined object");if(!this.parent)throw new Error("no ticker");this.ease||(this.ease=n.easeNames.linear),this.check()}check(){this.cf||(this.cf={}),this.ct||(this.ct={});for(const t of this.prop)this.f?(this.cf[t]=this.f[t],this.obj[t]=this.f[t]):this.cf[t]=this.obj[t],this.relative?this.ct[t]=this.obj[t]+this.t[t]:this.ct[t]=this.t[t]}tick(t){if(!(this.state>=3))for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains,this.p=Math.max(Math.min(this.elapsed/this.duration,1),0),this.v=this.ease(this.p),this.yo&&(this.yo.original-this.yo.value)%2==1&&(this.v=1-this.ease(1-this.p)),0!==this.steps&&(this.v=Math.round(this.v*this.steps)/this.steps);for(const t of this.prop)this.obj[t]=this.cf[t]+(this.ct[t]-this.cf[t])*this.v;if(this.events.update&&this.emitEvent(this.events.update,[this.remains,this.p]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,this.yo&&this.yo.value>0)this.reverse(),this.resetAndStart(0),this.yo.value--;else{if(!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.check(),this.resetAndStart(0)}}}from(t){return this.f=t,this.updateProp(),this}to(t,e){return this.t=t,this.duration=e,this.updateProp(),this}updateProp(){if(this.obj){for(const t in this.t)this.t.hasOwnProperty(t)&&this.prop.push(t);this.prop.filter((t,e,i)=>e===i.indexOf(t))}}setRelative(t){return this.relative=t,this}modify(t,e){for(const i of this.prop)t.hasOwnProperty(i)&&(this.obj[i]+=t[i],e?this.ct[i]+=t[i]:this.cf[i]+=t[i])}reset(t){if(this.yo){if((this.yo.original-this.yo.value)%2==1){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3}this.yo.value=this.yo.original}super.reset(t)}reverse(){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3,3===this.state&&(this.reset(!0),this.start())}yoyo(t){return this.yo||(this.yo={original:0,value:0}),this.yo.original=t,this.yo.value=t,this}setSteps(t){return this.steps=t,this}toSequence(){if(!this.parent)throw new Error("parent ticker not defined");return(new r.Sequence).setParent(this.parent).append(this)}setEasing(t){if(!(t in n.easeNames))throw new Error(`unknown easing method ${t}`);return this.ease=n.easeNames[t],this}loopInit(){this.elapsed=0}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Math.PI,s=Math.PI/2,r={linear:t=>t,inQuad:t=>t*t,outQuad:t=>2*t-t*t,inOutQuad:t=>t<.5?2*t*t:2*(2*t-t*t)-1,inCubic:t=>t*t*t,outCubic:t=>3*t-3*t*t+t*t*t,inOutCubic:t=>t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3,inQuart:t=>t*t*t*t,outQuart:t=>{const e=t*t;return 4*t-6*e+4*e*t-e*e},inOutQuart:t=>{if(t<.5)return 8*t*t*t*t;{const e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7}},inSine:t=>1===t?1:1-Math.cos(s*t),outSine:t=>Math.sin(s*t),inOutSine:t=>t<.5?(1-Math.cos(n*t))/2:(1+Math.sin(n*(t-.5)))/2,inCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),outCirc:t=>Math.sqrt(1-Math.pow(1-t,2)),inOutCirc:t=>t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(8*t-3-4*t*t))/2,inQuint:t=>t*t*t*t*t,outQuint:t=>--t*t*t*t*t+1,InOutQuint:t=>(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),inExponential:t=>1===t?1:0===t?0:Math.pow(1024,t-1),outExponential:t=>1===t?1:1-Math.pow(2,-10*t),inOutExponential:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1))),inElastic:t=>0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),outElastic:t=>1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,inOutElastic:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1,inBack:t=>{const e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},outBack:t=>{const e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},inOutBack:t=>{const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},outBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,inBounce:t=>1-r.outBounce(1-t),inOutBounce:t=>t<.5?.5*r.inBounce(2*t):.5*r.outBounce(2*t-1)+.5};e.easeNames=r}])},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._recursion=0,e}return s(e,t),e.prototype.post=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(this._listeners&&0!==this._listeners.length){if(this._recursion++,e.MAX_RECURSION_DEPTH>0&&this._recursion>e.MAX_RECURSION_DEPTH)throw new Error("event fired recursively");for(var n=this._listeners,s=0;s<n.length;++s){var r=n[s];this._call(r,t)}this._recursion--}},e.MAX_RECURSION_DEPTH=10,e}(i(7).BaseEvent);e.SyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidSyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorSyncEvent=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),s=function(){function t(){this.evtFilled=new n.SyncEvent,this.evtDrained=new n.SyncEvent,this._queue=[],this._flushing=!1}return t.global=function(){return t._instance||t.resetGlobal(),t._instance},t.resetGlobal=function(){t._instance=new t},t.prototype.empty=function(){return 0===this._queue.length},t.prototype.add=function(t){this._queue.push(t),1!==this._queue.length||this._flushing||this.evtFilled.post(this)},t.prototype.flushOnce=function(){var t=0===this._queue.length,e=this._flushing;this._flushing=!0;try{var i=this._queue;this._queue=[];for(var n=0;n<i.length;++n)i[n]()}finally{this._flushing=e,t||e||0!==this._queue.length||this.evtDrained.post(this)}},t.prototype.flush=function(t){void 0===t&&(t=10);var e=0===this._queue.length,i=this._flushing;this._flushing=!0;try{for(var n=0;this._queue.length>0;){if("number"==typeof t&&n>=t)throw this._queue=[],new Error("unable to flush the queue due to recursively added event. Clearing queue now");this.flushOnce(),++n}}finally{this._flushing=i,e||i||0!==this._queue.length||this.evtDrained.post(this)}},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18);e.JilCanvas=n.JilCanvas;var s=i(37);e.JilLayer=s.JilLayer;var r=i(38);e.JilPanel=r.JilPanel;var o=i(39);e.JilScene=o.JilScene;var a=i(40);e.JilButton=a.JilButton;var h=i(41);e.JilImage=h.JilImage;var c=i(42);e.JilText=c.JilText;var l=i(43);e.JilRadio=l.JilRadio;var u=i(44);e.JilCheckbox=u.JilCheckbox;var d=i(45);e.JilSelect=d.JilSelect;var p=i(46);e.JilInput=p.JilInput;var f=i(47);e.JilAlert=f.JilAlert;var v=i(48);e.JilConfirm=v.JilConfirm},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6);e.Vector2Extend=class{get x(){return this.overwrite.x>0?this.overwrite.x:this.origin.x}set x(t){this.origin.x=t}get y(){return this.overwrite.y>0?this.overwrite.y:this.origin.y}set y(t){this.origin.y=t}constructor(t,e){this.origin=new n.Vector2(t,e),this.overwrite=new n.Vector2}set(t,e){this.origin.set(t,e)}enforce(t,e){this.overwrite.set(t,e)}clear(){this.overwrite.set(0,0)}toString(){return`[${this.x}:${this.y}]`}}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),o=i(10),a=function(t){function e(e){var i=t.call(this)||this;i._queued=!1,i.options=e;var n=e||{};return"boolean"==typeof n.condensed?i._condensed=n.condensed:i._condensed=!1,"object"==typeof n.queue&&null!==n.queue&&(i._queue=n.queue),i}return s(e,t),e.prototype.post=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this._listeners&&0!==this._listeners.length){var n=this._queue?this._queue:o.default.global();if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,n.add(function(){t._queued=!1;for(var e=t._queuedData,i=t._queuedListeners,n=0;n<i.length;++n){var s=i[n];t._call(s,e)}})}else{var s=this._listeners;n.add(function(){for(var i=0;i<s.length;++i){var n=s[i];t._call(n,e)}})}}},e}(r.BaseEvent);e.QueuedEvent=a;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(a);e.VoidQueuedEvent=h;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(!this._listeners||0===this._listeners.length)throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(a);e.ErrorQueuedEvent=c},function(t,e,i){"use strict";(function(t){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){function i(t){var i=e.call(this)||this;i._queued=!1,i.options=t;var n=t||{};return"boolean"==typeof n.condensed?i._condensed=n.condensed:i._condensed=!1,i}return s(i,e),i.defaultScheduler=function(e){"undefined"!=typeof window?setTimeout(e,0):t(e)},i.setScheduler=function(t){i._scheduler=t},i.prototype.post=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this._listeners&&0!==this._listeners.length)if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,i._scheduler(function(){t._queued=!1;for(var e=t._queuedData,i=t._queuedListeners,n=0;n<i.length;++n){var s=i[n];t._call(s,e)}})}else{var s=this._listeners;i._scheduler(function(){for(var i=0;i<s.length;++i){var n=s[i];t._call(n,e)}})}},i.prototype._call=function(t,n){t.event&&t.event instanceof i?t.event._postDirect(n):e.prototype._call.call(this,t,n)},i.prototype._postDirect=function(t){if(this._listeners&&0!==this._listeners.length)for(var e=this._listeners,i=0;i<e.length;++i){var n=e[i];this._call(n,t)}},i._scheduler=i.defaultScheduler,i}(i(7).BaseEvent);e.AsyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidAsyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorAsyncEvent=a}).call(this,i(22).setImmediate)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(17);e.SceneManager=n.SceneManager;const s=i(11),r=i(2);e.registerComponent=r.registerComponent,e.registerLayout=r.registerLayout,e.registerClassname=r.registerClassname;const o=i(50);r.registerComponent("canvas",s.JilCanvas),r.registerComponent("layer",s.JilLayer),r.registerComponent("button",s.JilButton),r.registerComponent("checkbox",s.JilCheckbox),r.registerComponent("character",o.JilTextCharacter),r.registerComponent("image",s.JilImage),r.registerComponent("panel",s.JilPanel),r.registerComponent("radio",s.JilRadio),r.registerComponent("text",s.JilText),r.registerComponent("select",s.JilSelect),r.registerComponent("input",s.JilInput),r.registerComponent("alert",s.JilAlert),r.registerComponent("confirm",s.JilConfirm),r.registerLayout("default",r.defaultLayout),r.registerLayout("vertical",r.verticalLayout),r.registerLayout("horizontal",r.horizontalLayout),r.registerLayout("grid",r.gridLayout),e.init=n.SceneManager.init,e.create=n.SceneManager.create,e.use=n.SceneManager.use},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(11),s=i(1),r=i(49),o=i(5),a=i(8);let h,c,l={},u=[];e.SceneManager=class{static get Current(){return c}static init(t,e){a.init(),u=[],l={};const i=()=>s.h("div",{id:"root"},u.map(t=>t.render()));"undefined"!=typeof document?(h=s.createProjector()).append(document.body,i):h={scheduleRender:()=>{}},t&&e&&o.resolution.set(t,e)}static create(t){if(!h)throw new Error("JIL is not initialized, please call .init() before using it");return l[t]=new n.JilScene(t,h),u.push(l[t]),h.scheduleRender(),l[t]}static use(t){if(!h)throw new Error("JIL is not initialized, please call .init() before using it");c!==l[t]&&(r.FadeInOut(c,l[t]),c=l[t])}}},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(5);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetMouseEvent(),this.resetNode("canvas"),e||(e={}),this.resetTransform(e)}render(){return r.h("canvas",this.getProperties({width:a.resolution.x,height:a.resolution.y}))}}n([s.use(o.JilNode,o.Transform,o.Clickable,o.MouseEvents,o.TransformTween)],h.prototype,"this",void 0),e.JilCanvas=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s={};e.registerComponent=function(t,e){s[t]=e};const r={};e.registerLayout=function(t,e){r[t]=e};const o={};e.registerClassname=function(t,e){o[t]=e};e.Factory=class{createComponent(t,e,i){if(!s[t])throw new Error(`Cannot create type ${t}`);const r=n.getComponent(this),o=new s[t](e,i,r,r._projector);return r.addChild(o),o}getLayout(t){return r[t]}getClassname(t){return o[t]?o[t]:""}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6),s=i(12);e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.getComponent=function(t){return t},e.shuffleArray=function(t){return t.sort(()=>Math.random()-.5)},e.getParam=function(t,e,i){return t&&t[e]?t[e]:i},e.getParamBool=function(t,e,i){return t&&t[e]?!!t[e]:i},e.getParamNum=function(t,e,i){return t?void 0===t[e]||null===t[e]?i:t[e]:i},e.getParamVec2=function(t,e,i=0,s=0){return t&&t[e]?2!==t[e].length?new n.Vector2(i,s):new n.Vector2(t[e][0],t[e][1]):new n.Vector2(i,s)},e.getParamVec2Extend=function(t,e,i=0,n=0){return t&&t[e]?2!==t[e].length?new s.Vector2Extend(i,n):new s.Vector2Extend(t[e][0],t[e][1]):new s.Vector2Extend(i,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1),s=i(4),r=i(0);e.JilNode=class{constructor(){this.id="",this.type="",this._childrens=[],this.nodeEvent=new s.SyncEvent}get transform(){return r.getComponent(this)}resetNode(t){this.type=t,this._childrens=[],this.nodeEvent||(this.nodeEvent=new s.SyncEvent)}addChild(t){this._childrens.push(t),this.nodeEvent&&this.nodeEvent.post("added"),this.refresh()}removeChild(t){const e=this._childrens.indexOf(t);-1!==e&&(this._childrens.splice(e,1),this.nodeEvent&&this.nodeEvent.post("removed")),this.refresh()}removeAllChilds(){this.nodeEvent&&this.nodeEvent.post("removedAll"),this._childrens=[],this.refresh()}destroy(){this.nodeEvent&&this.nodeEvent.post("destroyed"),this._parent&&this._parent.removeChild(this)}refresh(){this.nodeEvent&&this.nodeEvent.post("refresh"),this._projector&&this._projector.scheduleRender()}render(){return n.h("div",this._childrens.map(t=>t.render()))}find(t){return this._childrens.find(e=>e.id===t)}findByType(t){return this._childrens.find(e=>e.type===t)}findAllByType(t){return this._childrens.filter(e=>e.type===t)}toString(){return`[UI ${this.id}]`}}},function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(s.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(23),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(15))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,s,r,o,a,h=1,c={},l=!1,u=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){f(t.data)},n=function(t){r.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(s=u.documentElement,n=function(t){var e=u.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):n=function(t){setTimeout(f,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return c[h]=s,n(h),h++},d.clearImmediate=p}function p(t){delete c[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(15),i(24))},function(t,e){var i,n,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,c=[],l=!1,u=-1;function d(){l&&h&&(l=!1,h.length?c=h.concat(c):u=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(h=c,c=[];++u<e;)h&&h[u].run();u=-1,e=c.length}h=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new f(t,e)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(26),a=i(9),h=i(14),c=i(13);!function(t){t[t.Sync=0]="Sync",t[t.Async=1]="Async",t[t.Queued=2]="Queued"}(r=e.EventType||(e.EventType={}));var l=function(){function t(t){this._events=[],t&&t.monitorAttach&&(this.evtFirstAttached=new u,this.evtLastDetached=new u)}return t.prototype.attach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.Sync;t.length>0&&"number"==typeof t[0]&&(i=t.shift());var n,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?n=t[0]:o=t[0],s=t[1]):(a=t[0],n=t[1],s=t[2]),this._attach(i,a,n,o,s,!1)},t.prototype.once=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.Sync;t.length>0&&"number"==typeof t[0]&&(i=t.shift());var n,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?n=t[0]:o=t[0],s=t[1]):(a=t[0],n=t[1],s=t[2]),this._attach(i,a,n,o,s,!0)},t.prototype._attach=function(t,e,i,n,s,l){var u,d=this.evtFirstAttached?this.listenerCount():0;switch(t){case r.Sync:for(var p=0,f=this._events;p<f.length;p++){(w=f[p])instanceof a.SyncEvent&&(u=w)}u||(u=new a.SyncEvent,this._events.push(u));break;case r.Async:for(var v=0,y=this._events;v<y.length;v++){(w=y[v])instanceof h.AsyncEvent&&o.shallowEquals(w.options,s)&&(u=w)}u||(u=new h.AsyncEvent(s),this._events.push(u));break;case r.Queued:for(var m=0,g=this._events;m<g.length;m++){var w;(w=g[m])instanceof c.QueuedEvent&&o.shallowEquals(w.options,s)&&(u=w)}u||(u=new c.QueuedEvent(s),this._events.push(u));break;default:throw new Error("unknown EventType")}l?n?u.once(n):u.once(e,i):n?u.attach(n):u.attach(e,i),this.evtFirstAttached&&0===d&&this.evtFirstAttached.post()},t.prototype.attachSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.attach.apply(this,t)},t.prototype.onceSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.once.apply(this,t)},t.prototype.attachAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.attach.apply(this,t)},t.prototype.onceAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.once.apply(this,t)},t.prototype.attachQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.attach.apply(this,t)},t.prototype.onceQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.once.apply(this,t)},t.prototype.detach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this.evtLastDetached?this.listenerCount():0,n=0;n<this._events.length;++n)this._events[n].detach.apply(this._events[n],t);this.evtLastDetached&&i>0&&0===this.listenerCount()&&this.evtLastDetached.post()},t.prototype.post=function(t){for(var e=[],i=0;i<this._events.length;++i)e.push(this._events[i]);for(i=0;i<e.length;++i)e[i].post(t)},t.prototype.listenerCount=function(){for(var t=0,e=0;e<this._events.length;++e)t+=this._events[e].listenerCount();return t},t}();e.AnyEvent=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(l);e.VoidAnyEvent=u;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(l);e.ErrorAnyEvent=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEquals=function(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;switch(typeof t){case"boolean":case"number":case"string":case"function":case"symbol":case"undefined":return!1;case"object":if(null===t||null===e)return!1;if(Array.isArray(t)||Array.isArray(e)){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}var n=[],s=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);for(var o in e)e.hasOwnProperty(o)&&s.push(o);if(n.sort(),s.sort(),n.join(",")!==s.join(","))return!1;for(i=0;i<n.length;++i)if(t[n[i]]!==e[n[i]])return!1;return!0;default:return!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(5),r=i(4);e.Transform=class{constructor(){this.enable=!0,this.createEvent=new r.SyncEvent,this.destroyEvent=new r.SyncEvent,this.anchor=new n.Vector2Extend,this.pivot=new n.Vector2Extend,this.position=new n.Vector2Extend,this.size=new n.Vector2Extend,this.positionPx=new n.Vector2,this.sizePx=new n.Vector2,this.scale=new n.Vector2,this.opacity=1,this.rotation=0,this.blur=0,this.classnames="",this.lastStyles={},this.styles={},this.properties={}}get node(){return n.getComponent(this)}resetTransform(t){const e=this,i=n.getComponent(this),o={set:(t,e,n)=>(t[e]=n,i.refresh(),!0)},a={get:(t,i)=>"x"!==i&&"y"!==i?t[i]:e.position[i]*s.resolution[i],set:(t,i,n)=>"x"!==i&&"y"!==i?t[i]=n:(e.position[i]=n/s.resolution[i],!0)},h={get:(t,i)=>"x"!==i&&"y"!==i?t[i]:e.size[i]*s.resolution[i],set:(t,i,n)=>"x"!==i&&"y"!==i?t[i]=n:(e.size[i]=n/s.resolution[i],!0)};this.enable=!0,this.anchor=new Proxy(n.getParamVec2Extend(t,"anchor"),o),this.pivot=new Proxy(n.getParamVec2Extend(t,"pivot"),o),this.position=new Proxy(n.getParamVec2Extend(t,"position"),o),this.size=new Proxy(n.getParamVec2Extend(t,"size",1,1),o),this.positionPx=new Proxy(new n.Vector2,a),this.sizePx=new Proxy(new n.Vector2,h),this.scale=new Proxy(n.getParamVec2(t,"scale",1,1),o),this.opacity=n.getParamNum(t,"opacity",1),this.rotation=n.getParamNum(t,"rotation",0),this.blur=n.getParamNum(t,"blur",0),this.classnames=t.class||"",this.styles=t.style||{},this.properties={},this.lastStyles={rotation:0,blur:0,opacity:0},this.createEvent||(this.createEvent=new r.SyncEvent),this.destroyEvent||(this.destroyEvent=new r.SyncEvent)}handlerAfterCreate(){this.createEvent&&this.createEvent.post()}handleAfterRemoved(){this.destroyEvent&&this.destroyEvent.post()}onLoad(t){this.createEvent&&this.createEvent.attach(t),this.properties.afterCreate=this.handlerAfterCreate.bind(this),console.log("onLoad",this.properties)}onDestroy(t){this.destroyEvent&&this.destroyEvent.attach(t),this.properties.afterRemoved=this.handleAfterRemoved.bind(this),console.log("onDestroy",this.properties)}getStyle(){const t=100*(this.anchor.x/this.size.x-this.pivot.x+this.position.x/this.size.x),e=100*(this.anchor.y/this.size.y-this.pivot.y+this.position.y/this.size.y),i={display:!this.enable||this.opacity<=0?"none":"block"};1!==this.size.x&&(i.width=`${100*this.size.x}%`),1!==this.size.y&&(i.height=`${100*this.size.y}%`);let n="";0===t&&0===e||(n+=`translate(${t}%, ${e}%) `),1===this.scale.x&&1===this.scale.y||(n+=`scale(${this.scale.x}, ${this.scale.y}) `),0===this.rotation&&this.lastStyles.rotation===this.rotation||(n+=`rotate(${this.rotation}deg)`);let s="";return 0===this.blur&&this.lastStyles.blur===this.blur||(s+=`blur(${this.blur}px) `),n&&(i.transform=n),s&&(i.filter=s),1===this.opacity&&this.lastStyles.opacity===this.opacity||(i.opacity=this.opacity.toString()),this.lastStyles={rotation:this.rotation,opacity:this.opacity,blur:this.blur},i}getClassnames(){const t=n.getComponent(this),e=[this.node.type,this.classnames];return t.getClassname&&e.push(t.getClassname(this.node.type)),e.filter(t=>t&&t.length>0).map(t=>t.toString().trim()).join(" ").trim()}getProperties(t){const e={id:this.node.id,key:this.node.id,styles:Object.assign(this.getStyle(),this.styles),class:this.getClassnames()};return Object.assign(t,this.properties,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4),s=i(0);e.Clickable=class{resetClickable(){this.clickEvent=new n.SyncEvent,this.dbClickEvent=new n.SyncEvent}click(){this.clickEvent&&this.clickEvent.post()}doubleClick(){this.dbClickEvent&&this.dbClickEvent.post()}onClick(t){this.clickEvent&&this.clickEvent.attach(t);const e=s.getComponent(this);e.classnames=("clickable "+e.classnames).trim(),e.properties.onclick=this.click.bind(this)}onDbClick(t){this.dbClickEvent&&this.dbClickEvent.attach(t);const e=s.getComponent(this);e.classnames=("clickable "+e.classnames).trim(),e.properties.ondblclick=this.doubleClick.bind(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4),s=i(0);e.KeyboardEvents=class{resetKeyboardEvent(){this.keydownEvent=new n.SyncEvent,this.keypressEvent=new n.SyncEvent,this.keyupEvent=new n.SyncEvent,this.focusEvent=new n.SyncEvent,this.blurEvent=new n.SyncEvent,this.submitEvent=new n.SyncEvent}keydown(t){this.keydownEvent&&this.keydownEvent.post(t)}keypress(t){this.keypressEvent&&this.keypressEvent.post(t)}keyup(t){this.keyupEvent&&this.keyupEvent.post(t)}focus(t){this.focusEvent&&this.focusEvent.post(t)}focusblur(t){this.blurEvent&&this.blurEvent.post(t)}submit(t){this.submitEvent&&this.submitEvent.post(t)}onKeydown(t){this.keydownEvent&&this.keydownEvent.attach(t),s.getComponent(this).properties.onkeydown=this.keydown.bind(this)}onKeypress(t){this.keypressEvent&&this.keypressEvent.attach(t),s.getComponent(this).properties.onkeypress=this.keypress.bind(this)}onKeyup(t){this.keyupEvent&&this.keyupEvent.attach(t),s.getComponent(this).properties.onkeyup=this.keyup.bind(this)}onFocus(t){this.focusEvent&&this.focusEvent.attach(t),s.getComponent(this).properties.onfocus=this.focus.bind(this)}onBlur(t){this.blurEvent&&this.blurEvent.attach(t),s.getComponent(this).properties.onblur=this.focusblur.bind(this)}onSubmit(t){this.submitEvent&&this.submitEvent.attach(t),s.getComponent(this).properties.onsubmit=this.submit.bind(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4),s=i(0);e.MouseEvents=class{resetMouseEvent(){this.mousedownEvent=new n.SyncEvent,this.mouseupEvent=new n.SyncEvent,this.mouseenterEvent=new n.SyncEvent,this.mouseleaveEvent=new n.SyncEvent,this.mousemoveEvent=new n.SyncEvent,this.mousewheelEvent=new n.SyncEvent}mousedown(t){this.mousedownEvent&&this.mousedownEvent.post(t)}mouseup(t){this.mouseupEvent&&this.mouseupEvent.post(t)}mouseenter(t){this.mouseenterEvent&&this.mouseenterEvent.post(t)}mouseleave(t){this.mouseleaveEvent&&this.mouseleaveEvent.post(t)}mousemove(t){this.mousemoveEvent&&this.mousemoveEvent.post(t)}mousewheel(t){this.mousewheelEvent&&this.mousewheelEvent.post(t)}onMouseup(t){this.mouseupEvent&&this.mouseupEvent.attach(t),s.getComponent(this).properties.onmouseup=this.mouseup.bind(this)}onMousedown(t){this.mousedownEvent&&this.mousedownEvent.attach(t),s.getComponent(this).properties.onmousedown=this.mousedown.bind(this)}onMouseenter(t){this.mouseenterEvent&&this.mouseenterEvent.attach(t),s.getComponent(this).properties.onmouseenter=this.mouseenter.bind(this)}onMouseleave(t){this.mouseleaveEvent&&this.mouseleaveEvent.attach(t),s.getComponent(this).properties.onmouseleave=this.mouseleave.bind(this)}onMousemove(t){this.mousemoveEvent&&this.mousemoveEvent.attach(t),s.getComponent(this).properties.onmousemove=this.mousemove.bind(this)}onMousewheel(t){this.mousewheelEvent&&this.mousewheelEvent.attach(t),s.getComponent(this).properties.onmousewheel=this.mousewheel.bind(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(0);e.TransformTween=class{_moveTween(t,e,i,r){const o=s.getComponent(this),a=s.getComponent(this),h=n.tween(o.position).to(t,e).setEasing("inOutQuad");return h.onUpdate(()=>a.refresh()),i&&(r&&this.moveTween&&this.moveTween.kill(),h.start()),this.moveTween=h,h}moveX(t=0,e=250,i=!0,n=!1){return this._moveTween({x:t},e,i,n)}moveY(t=0,e=250,i=!0,n=!1){return this._moveTween({y:t},e,i,n)}move(t=0,e=0,i=250,n=!0,s=!0){return this._moveTween({x:t,y:e},i,n,s)}_fadeTween(t,e,i,r){const o=s.getComponent(this),a=n.tween(this).to(t,e).setEasing("inOutQuad");return a.onUpdate(()=>o.refresh()),i&&(r&&this.fadeTween&&this.fadeTween.kill(),a.start()),this.fadeTween=a,a}show(t=150,e=!0,i=!0){return this._fadeTween({opacity:1},t,e,i)}hide(t=150,e=!0,i=!0){return this._fadeTween({opacity:0},t,e,i)}toggle(t=150,e=!0,i=!0){1===s.getComponent(this).opacity?this.hide(t,e,i):this.show(t,e,i)}_rotateTween(t,e,i,r){const o=s.getComponent(this),a=n.tween(this).to(t,e).setEasing("inOutQuad");return a.onUpdate(()=>o.refresh()),i&&(r&&this.rotateTween&&this.rotateTween.kill(),a.start()),this.rotateTween=a,a}rotate(t,e=150,i=!0,n=!0){return this._rotateTween({rotation:t},e,i,n)}_blurTween(t,e,i,r){const o=s.getComponent(this),a=n.tween(this).to(t,e).setEasing("inOutQuad");return a.onUpdate(()=>o.refresh()),i&&(r&&this.blurTween&&this.blurTween.kill(),a.start()),this.blurTween=a,a}blurAnimation(t,e=150,i=!0,n=!0){return this._blurTween({blur:t},e,i,n)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Layout=class{constructor(){this.layout="default",this.layoutParams={}}resetLayout(){const t=n.getComponent(this);this.layout="default",this.layoutParams={},t.nodeEvent&&t.nodeEvent.attach(t=>{"added"!==t&&"removed"!==t||this.refreshLayout()})}setLayout(t,e){this.layout=t||this.layout,this.layoutParams=e||this.layoutParams,this.refreshLayout()}refreshLayout(){n.getComponent(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLayout=((t,e)=>{e.forEach(t=>{t.transform.size.clear(),t.transform.position.clear()})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verticalLayout=((t,e)=>{let i=0;for(const t of e){const n=t.transform;n.size.enforce(1,1/e.length),n.position.enforce(0,i/e.length),i++}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.horizontalLayout=((t,e)=>{let i=0;for(const t of e){const n=t.transform;n.size.enforce(1/e.length,1),n.position.enforce(i/e.length,0),i++}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gridLayout=((t,e)=>{let i=0,n=0,s=1,r=1;t.layoutParams.rowNumber&&t.layoutParams.colNumber?(r=t.layoutParams.colNumber,s=t.layoutParams.rowNumber):t.layoutParams.colNumber?(r=t.layoutParams.colNumber,s=Math.ceil(e.length/r)):(s=t.layoutParams.rowNumber?t.layoutParams.rowNumber:5,r=Math.ceil(e.length/s));for(const t of e){const e=t.transform;e.size.enforce(1/r,1/s),e.position.enforce(i/r,n/s),++i>=r&&(i=0,n++)}})},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(5);class h{constructor(t,e,i,n){this.createCanvas=((t,e)=>this.createComponent("canvas",t,e)),this.createPanel=((t,e)=>this.createComponent("panel",t,e)),this.createButton=((t,e)=>this.createComponent("button",t,e)),this.createCheckbox=((t,e)=>this.createComponent("checkbox",t,e)),this.createImage=((t,e)=>this.createComponent("image",t,e)),this.createInput=((t,e)=>this.createComponent("input",t,e)),this.createRadio=((t,e)=>this.createComponent("radio",t,e)),this.createSelect=((t,e)=>this.createComponent("select",t,e)),this.createText=((t,e)=>this.createComponent("text",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetNode("layer"),e||(e={}),this.resetTransform(e),"undefined"!=typeof window&&window.addEventListener("resize",()=>this.refresh(),!1)}render(){const t={};t.display=this.enable?"block":"none",t.opacity=this.opacity.toString();const e="undefined"!=typeof window?{x:window.innerWidth,y:window.innerHeight}:{x:1,y:1},i=e.x/e.y,n=a.resolution.x/a.resolution.y,s=e.x/a.resolution.x,o=e.y/a.resolution.y,h=i<=n?s:o;return t.width=`${a.resolution.x}px`,t.height=`${a.resolution.y}px`,t.transformOrigin="top left",t.transform=`scale(${h})`,r.h("div",{id:this.id,key:this.id,class:this.getClassnames(),styles:t},this._childrens.map(t=>t.render()))}}n([s.use(o.JilNode,o.Transform,o.Factory,o.TransformTween)],h.prototype,"this",void 0),e.JilLayer=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2);class a{constructor(t,e,i,n){this.createCanvas=((t,e)=>this.createComponent("canvas",t,e)),this.createPanel=((t,e)=>this.createComponent("panel",t,e)),this.createButton=((t,e)=>this.createComponent("button",t,e)),this.createCheckbox=((t,e)=>this.createComponent("checkbox",t,e)),this.createImage=((t,e)=>this.createComponent("image",t,e)),this.createInput=((t,e)=>this.createComponent("input",t,e)),this.createRadio=((t,e)=>this.createComponent("radio",t,e)),this.createSelect=((t,e)=>this.createComponent("select",t,e)),this.createText=((t,e)=>this.createComponent("text",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetNode("panel"),e||(e={}),this.resetTransform(e),this.resetLayout()}refreshLayout(){const t=this.getLayout(this.layout);t&&t(this,this._childrens)}render(){return r.h("div",{id:this.id,key:this.id,class:this.getClassnames(),styles:this.getStyle()},this._childrens.map(t=>t.render()))}}n([s.use(o.JilNode,o.Transform,o.Factory,o.TransformTween,o.Layout)],a.prototype,"this",void 0),e.JilPanel=a},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(4),a=i(2),h=i(5);class c{constructor(t,e){this.createLayer=((t,e)=>this.createComponent("layer",t,e)),this.createAlertPopup=((t,e)=>this.createComponent("alert",t,e)),this.createConfirmPopup=((t,e)=>this.createComponent("confirm",t,e)),this.id=t,this._projector=e,this.resetNode("scene"),this.resetTransform({}),this.enterEvent=new o.SyncEvent,this.leaveEvent=new o.SyncEvent,this.enable=!1}enter(){this.enable||(this.enable=!0,this.enterEvent.post(),this.refresh())}leave(){this.enable&&(this.enable=!1,this.leaveEvent.post(),this.refresh())}alert(t,e){return new Promise((i,n)=>{const s=this.createAlertPopup("alert",{title:t,content:e});s.onLoad(()=>s.show()),s.onClick(()=>{s.hide(),s.destroy(),i()})})}confirm(t,e){return new Promise((i,n)=>{const s=this.createConfirmPopup("confirm",{title:t,content:e});s.onLoad(()=>s.show()),s.onClick(()=>{s.hide(),s.destroy(),i()}),s.onCancel(()=>{s.hide(),s.destroy(),n()})})}render(){const t={};return t.display=this.enable?"block":"none",("undefined"!=typeof window?window.innerWidth/window.innerHeight:1)<=h.resolution.x/h.resolution.y?(t.width="100vw",t.height="56.25vw",t.marginTop="-28.125vw",t.marginLeft="0vw",t.top="50vh",t.left="0vh"):(t.width="177vh",t.height="100vh",t.marginTop="0vh",t.marginLeft="-88.5vh",t.top="0vw",t.left="50vw"),r.h("div",{id:this.id,key:this.id,class:"scene",styles:t},this._childrens.map(t=>t.render()))}onEnter(t){this.enterEvent.attach(t)}onLeave(t){this.leaveEvent.attach(t)}}n([s.use(a.JilNode,a.Transform,a.Factory)],c.prototype,"this",void 0),e.JilScene=c},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetKeyboardEvent(),this.resetNode("button"),e||(e={}),this.resetTransform(e),this.text=a.isString(e)?e:a.getParam(e,"text","Default Text")}render(){return r.h("button",this.getProperties({type:"button"}),[this.text])}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.KeyboardEvents,o.TransformTween)],h.prototype,"this",void 0),e.JilButton=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetMouseEvent(),this.resetNode("image"),e||(e={}),this.resetTransform(e),this.src=a.isString(e)?e:a.getParam(e,"src","")}render(){return r.h("img",this.getProperties({src:this.src}),[])}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.MouseEvents,o.TransformTween)],h.prototype,"this",void 0),e.JilImage=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);!function(t){t.Order="order",t.Reverse="reverse",t.Shuffle="shuffle"}(e.TextAnimationOrder||(e.TextAnimationOrder={})),function(t){t.Character="character",t.Word="word",t.All="all"}(e.TextAnimationSplit||(e.TextAnimationSplit={}));class h{constructor(t,e,i,n){this.createCharacter=((t,e)=>this.createComponent("character",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetNode("text"),e||(e={}),this.resetTransform(e),this.text=a.isString(e)?e:a.getParam(e,"text","Default Text")}animate(t,e){e||(e={}),this.removeAllChilds(),this.text=t;const i=e.split||"word",n="all"===i?[t]:t.split(" ");let s=[];for(let t=0;t<n.length;t++){if("character"===i){let e=0;n[t].split("").forEach(i=>{s.push(this.createCharacter(`${this.id}_${t}_${e}`,{text:i,class:"text-span"})),e++})}else s.push(this.createCharacter(`${this.id}_${t}`,{text:n[t],class:"text-span"}));t<n.length&&this.createCharacter(`${this.id}_${t}`,{text:" ",class:"text-span-space"})}switch(e.order||"order"){case"reverse":s=s.reverse();break;case"shuffle":s=a.shuffleArray(s)}const r=e.anim||"fade",o=e.delay||30,h=e.duration||350;for(let t=0;t<s.length;t++)s[t].animation(r,o*t,h)}render(){const t=this._childrens.length>0?this._childrens.map(t=>t.render()):[this.text];return r.h("div",this.getProperties({}),t)}}n([s.use(o.JilNode,o.Factory,o.Transform,o.TransformTween)],h.prototype,"this",void 0),e.JilText=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetKeyboardEvent(),this.resetNode("radio"),e||(e={}),this.resetTransform(e),this.text=a.getParam(e,"text","Label"),this.name=a.getParam(e,"name","checkbox"),this.value=a.getParam(e,"value","value"),this.checked=a.getParamBool(e,"checked",!1)}render(){return r.h("label",{id:"label_"+this.id,key:"label_"+this.id,styles:this.getStyle(),afterCreate:t=>{document.querySelector('input[name="'+this.name+'"]:checked')||(this.checked=!0,this.refresh())},class:this.getClassnames()},[r.h("input",{type:"radio",name:this.name,value:this.value,id:this.id,key:this.id,checked:this.checked,class:this.getClassnames(),onclick:this.click.bind(this)},[]),r.h("span",{},[this.text])])}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.KeyboardEvents)],h.prototype,"this",void 0),e.JilRadio=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetKeyboardEvent(),this.resetNode("checkbox"),e||(e={}),this.resetTransform(e),this.text=a.getParam(e,"text","Label"),this.name=a.getParam(e,"name","checkbox"),this.value=a.getParam(e,"value","value"),this.checked=a.getParamBool(e,"checked",!1)}render(){return r.h("label",{id:"label_"+this.id,key:"label_"+this.id,styles:this.getStyle(),class:this.getClassnames()},[r.h("input",{type:"checkbox",name:this.name,value:this.value,id:this.id,key:this.id,checked:this.checked,class:this.getClassnames(),onclick:this.click.bind(this)},[]),r.h("span",{},[this.text])])}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.KeyboardEvents)],h.prototype,"this",void 0),e.JilCheckbox=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetKeyboardEvent(),this.resetNode("radio"),e||(e={}),this.resetTransform(e),this.name=a.getParam(e,"name","select"),this.value=a.getParam(e,"value",""),this.options=e.options?e.options:[]}render(){["select",this.classnames,this.getClassname("select")].filter(t=>t&&t.length>0).map(t=>t.toString().trim()).join(" ").trim();const t=!this.value&&this.options.length>0?this.options[0].value:this.value;return r.h("select",this.getProperties({name:this.name,value:t}),this.options.map(t=>r.h("option",{value:t.value},[t.text])))}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.KeyboardEvents)],h.prototype,"this",void 0),e.JilSelect=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),r=i(1),o=i(2),a=i(0);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetKeyboardEvent(),this.resetNode("input"),e||(e={}),this.resetTransform(e),this.name=a.getParam(e,"name","input"),this.value=a.getParam(e,"value","value")}render(){return r.h("input",this.getProperties({name:this.name,value:this.value}),[])}}n([s.use(o.JilNode,o.Factory,o.Transform,o.Clickable,o.KeyboardEvents)],h.prototype,"this",void 0),e.JilInput=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),r=i(3),o=i(1),a=i(0),h=i(4),c=i(5);class l{constructor(t,e,i,n){this.createButton=((t,e)=>this.createComponent("button",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetNode("dialog"),e||(e={}),this.resetTransform(e),this.clickEvent=new h.SyncEvent,this.title=a.getParam(e,"title","Title"),this.content=a.getParam(e,"content","Content"),this.size.set(.6,.5),this.okButton=this.createButton("okBtn",{text:"OK",size:[.2,.15],anchor:[.5,1],pivot:[.5,1],position:[0,-.35]}),this.okButton.onClick(()=>this.clickEvent.post())}show(){document.getElementById(this.id).showModal(),document.getElementById(this.id).focus(),this.node.nodeEvent.post("show")}hide(){document.getElementById(this.id).close(),this.node.nodeEvent.post("hide")}onClick(t){this.clickEvent&&this.clickEvent.attach(t)}render(){const t={};t.display=this.enable?"block":"none",t.opacity=this.opacity.toString();const e="undefined"!=typeof window?{x:window.innerWidth,y:window.innerHeight}:{x:1,y:1},i=e.x/e.y,n=c.resolution.x/c.resolution.y,s=e.x/c.resolution.x,r=e.y/c.resolution.y,a=i<=n?s:r;return t.width=`${c.resolution.x*this.size.x}px`,t.height=`${c.resolution.y*this.size.y}px`,t.transform=`scale(${a})`,this.styles=t,o.h("dialog",this.getProperties({}),[o.h("form",{method:"dialog"},[o.h("p",{class:"title"},[this.title]),o.h("p",{},[this.content]),this.okButton.render()])])}}n([r.use(s.JilNode,s.Transform,s.Factory)],l.prototype,"this",void 0),e.JilAlert=l},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),r=i(3),o=i(1),a=i(0),h=i(4),c=i(5);class l{constructor(t,e,i,n){this.createButton=((t,e)=>this.createComponent("button",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetNode("dialog"),e||(e={}),this.resetTransform(e),this.clickEvent=new h.SyncEvent,this.cancelEvent=new h.SyncEvent,this.title=a.getParam(e,"title","Title"),this.content=a.getParam(e,"content","Content"),this.size.set(.6,.5),this.okButton=this.createButton("okBtn",{text:"OK",size:[.2,.15],anchor:[.5,1],pivot:[.5,1],position:[.15,-.35]}),this.okButton.onClick(()=>this.clickEvent.post()),this.cancelButton=this.createButton("cancelBtn",{text:"Cancel",size:[.2,.15],anchor:[.5,1],pivot:[.5,1],position:[-.15,-.35]}),this.cancelButton.onClick(()=>this.cancelEvent.post())}show(){document.getElementById(this.id).showModal(),document.getElementById(this.id).focus(),this.node.nodeEvent.post("show")}hide(){document.getElementById(this.id).close(),this.node.nodeEvent.post("hide")}onClick(t){this.clickEvent&&this.clickEvent.attach(t)}onCancel(t){this.cancelEvent&&this.cancelEvent.attach(t)}render(){const t={};t.display=this.enable?"block":"none",t.opacity=this.opacity.toString();const e="undefined"!=typeof window?{x:window.innerWidth,y:window.innerHeight}:{x:1,y:1},i=e.x/e.y,n=c.resolution.x/c.resolution.y,s=e.x/c.resolution.x,r=e.y/c.resolution.y,a=i<=n?s:r;return t.width=`${c.resolution.x*this.size.x}px`,t.height=`${c.resolution.y*this.size.y}px`,t.transform=`scale(${a})`,this.styles=t,o.h("dialog",this.getProperties({}),[o.h("form",{method:"dialog"},[o.h("p",{class:"title"},[this.title]),o.h("p",{},[this.content]),this.okButton.render(),this.cancelButton.render()])])}}n([r.use(s.JilNode,s.Transform,s.Factory)],l.prototype,"this",void 0),e.JilConfirm=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8);e.FadeInOut=function(t,e){const i=n.sequence();if(t){const e=t.createLayer(`FaderOut_${Math.round(1e5*Math.random())}`,{class:"fader"});e.opacity=0,i.append(e.show(250,!1)),i.appendCallback(()=>t.leave()),i.appendCallback(()=>e.destroy())}else i.appendInterval(500);const s=e.createLayer(`FaderIn_${Math.round(1e5*Math.random())}`,{class:"fader"});s.opacity=1,i.appendCallback(()=>e.enter());const r=s.hide(350,!1);r.onUpdate(()=>s.refresh()),i.append(r),i.appendCallback(()=>s.destroy()),i.start()}},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(8),r=i(3),o=i(1),a=i(2),h=i(0);!function(t){t.Fade="fade",t.Zoom="zoom"}(e.TextAnimationAnim||(e.TextAnimationAnim={}));class c{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetNode("character"),e||(e={}),this.resetTransform(e),this.text=h.isString(e)?e:h.getParam(e,"text","text")}tween(t,e,i,n){const r=h.getComponent(this),o=s.tween(t).to(e,i).setEasing("inOutQuad").toSequence().prependInterval(n);o.onUpdate(()=>r.refresh()),o.start()}animation(t,e,i){switch(t){case"fade":this.opacity=0,this.tween(this,{opacity:1},i,e);break;case"zoom":this.scale.set(0,0),this.tween(this.scale,{x:1,y:1},i,e)}}render(){const t=100*(this.anchor.x/this.size.x-this.pivot.x+this.position.x/this.size.x),e=100*(this.anchor.y/this.size.y-this.pivot.y+this.position.y/this.size.y);let i="";0===t&&0===e||(i+=`translate(${t}%, ${e}%) `),1===this.scale.x&&1===this.scale.y||(i+=`scale(${this.scale.x}, ${this.scale.y}) `),0!==this.rotation&&(i+=`rotate(${this.rotation}deg)`);let n="";return 0!==this.blur&&(n+=`blur(${this.blur}px) `),o.h("span",{id:this.id,key:this.id,class:this.classnames,styles:{opacity:this.opacity.toString(),transform:i,filter:n}},[this.text])}}n([r.use(a.JilNode,a.Transform)],c.prototype,"this",void 0),e.JilTextCharacter=c}])});