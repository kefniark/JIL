!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jil",[],e):"object"==typeof exports?exports.jil=e():t.jil=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=16)}([function(t,e,i){!function(t){"use strict";var e,i="http://www.w3.org/2000/svg",n=[],s=function(t,e){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),e&&Object.keys(e).forEach(function(t){i[t]=e[t]}),i},r=function(t,e){return t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties)},o=function(t){if("string"!=typeof t)throw new Error("Style values must be strings")},a=function(t,e,i){if(""!==e.vnodeSelector)for(var n=i;n<t.length;n++)if(r(t[n],e))return n;return-1},h=function(t,e,i,n){var s=t[e];if(""!==s.vnodeSelector){var o=s.properties,a=o?void 0===o.key?o.bind:o.key:void 0;if(!a)for(var h=0;h<t.length;h++)if(h!==e){var c=t[h];if(r(c,s))throw new Error(i.vnodeSelector+" had a "+s.vnodeSelector+" child "+("added"===n?n:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.")}}},c=function(t){if(t.properties){var e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},u=[],l=!1,d=function(t){(t.children||[]).forEach(d),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},f=function(){l=!1,u.forEach(d),u.length=0},p=function(t){u.push(t),l||(l=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(f,{timeout:16}):setTimeout(f,16))},v=function(t){var e=t.domNode;if(t.properties){var i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,function(){e.parentNode&&(e.parentNode.removeChild(e),p(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),p(t))},y=function(t,e,n){!function(t,e,i){if(e)for(var n=0,s=e;n<s.length;n++){var r=s[n];m(r,t,void 0,i)}}(t,e.children,n),e.text&&(t.textContent=e.text),function(t,e,n){if(e)for(var s=n.eventHandlerInterceptor,r=Object.keys(e),a=r.length,h=function(a){var h,c=r[a],u=e[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)g(t,u,!0);else if("classes"===c)for(var l=Object.keys(u),d=l.length,f=0;f<d;f++){var p=l[f];u[p]&&t.classList.add(p)}else if("styles"===c)for(var v=Object.keys(u),y=v.length,f=0;f<y;f++){var m=v[f],w=u[m];w&&(o(w),n.styleApplyer(t,m,w))}else if("key"!==c&&null!=u){var _=typeof u;"function"===_?0===c.lastIndexOf("on",0)&&(s&&(u=s(c,u,t,e)),"oninput"===c&&(h=u,u=function(t){h.apply(this,[t]),t.target["oninput-value"]=t.target.value}),t[c]=u):n.namespace===i?"href"===c?t.setAttributeNS("http://www.w3.org/1999/xlink",c,u):t.setAttribute(c,u):"string"===_&&"value"!==c&&"innerHTML"!==c?t.setAttribute(c,u):t[c]=u}},c=0;c<a;c++)h(c)}(t,e.properties,n),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,n,e.vnodeSelector,e.properties,e.children])},m=function(t,e,n,r){var o,a=0,h=t.vnodeSelector,c=e.ownerDocument;if(""===h)o=t.domNode=c.createTextNode(t.text),void 0!==n?e.insertBefore(o,n):e.appendChild(o);else{for(var u=0;u<=h.length;++u){var l=h.charAt(u);if(u===h.length||"."===l||"#"===l){var d=h.charAt(a-1),f=h.slice(a,u);"."===d?o.classList.add(f):"#"===d?o.id=f:("svg"===f&&(r=s(r,{namespace:i})),void 0!==r.namespace?o=t.domNode=c.createElementNS(r.namespace,f):(o=t.domNode=t.domNode||c.createElement(f),"input"===f&&t.properties&&void 0!==t.properties.type&&o.setAttribute("type",t.properties.type)),void 0!==n?e.insertBefore(o,n):o.parentNode!==e&&e.appendChild(o)),a=u+1}}y(o,t,r)}},g=function(t,e,i){e&&e.split(" ").forEach(function(e){return t.classList.toggle(e,i)})};e=function(t,u,l){var d=t.domNode,f=!1;if(t===u)return!1;var p=!1;if(""===u.vnodeSelector){if(u.text!==t.text){var y=d.ownerDocument.createTextNode(u.text);return d.parentNode.replaceChild(y,d),u.domNode=y,f=!0}u.domNode=d}else 0===u.vnodeSelector.lastIndexOf("svg",0)&&(l=s(l,{namespace:i})),t.text!==u.text&&(p=!0,void 0===u.text?d.removeChild(d.firstChild):d.textContent=u.text),u.domNode=d,p=function(t,i,s,o,u){if(s===o)return!1;o=o||n;for(var l,d=(s=s||n).length,f=o.length,p=0,y=0,g=!1;y<f;){var w=p<d?s[p]:void 0,_=o[y];if(void 0!==w&&r(w,_))g=e(w,_,u)||g,p++;else{var b=a(s,_,p+1);if(b>=0){for(l=p;l<b;l++)v(s[l]),h(s,l,t,"removed");g=e(s[b],_,u)||g,p=b+1}else m(_,i,p<d?s[p].domNode:void 0,u),c(_),h(o,y,t,"added")}y++}if(d>p)for(l=p;l<d;l++)v(s[l]),h(s,l,t,"removed");return g}(u,d,t.children,u.children,l)||p,p=function(t,e,n,s){if(n){for(var r=!1,a=Object.keys(n),h=a.length,c=0;c<h;c++){var u=a[c],l=n[u],d=e[u];if("class"===u)d!==l&&(g(t,d,!1),g(t,l,!0));else if("classes"===u)for(var f=t.classList,p=Object.keys(l),v=p.length,y=0;y<v;y++){var m=p[y],w=!!l[m],_=!!d[m];w!==_&&(r=!0,w?f.add(m):f.remove(m))}else if("styles"===u)for(var b=Object.keys(l),T=b.length,y=0;y<T;y++){var k=b[y],E=l[k],O=d[k];E!==O&&(r=!0,E?(o(E),s.styleApplyer(t,k,E)):s.styleApplyer(t,k,""))}else if(l||"string"!=typeof d||(l=""),"value"===u){var j=t[u];j!==l&&(t["oninput-value"]?j===t["oninput-value"]:l!==d)&&(t[u]=l,t["oninput-value"]=void 0),l!==d&&(r=!0)}else if(l!==d){var P=typeof l;"function"===P&&s.eventHandlerInterceptor||(s.namespace===i?"href"===u?t.setAttributeNS("http://www.w3.org/1999/xlink",u,l):t.setAttribute(u,l):"string"===P&&"innerHTML"!==u?"role"===u&&""===l?t.removeAttribute(u):t.setAttribute(u,l):t[u]!==l&&(t[u]=l),r=!0)}}return r}}(d,t.properties,u.properties,l)||p,u.properties&&u.properties.afterUpdate&&u.properties.afterUpdate.apply(u.properties.bind||u.properties,[d,l,u.vnodeSelector,u.properties,u.children]);return p&&u.properties&&u.properties.updateAnimation&&u.properties.updateAnimation(d,u.properties,t.properties),f};var w,_=function(t,i){return{getLastRender:function(){return t},update:function(n){if(t.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var s=t;t=n,e(s,n,i)},domNode:t.domNode}},b={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(t,e,i){t.style[e]=i}},T=function(t){return s(b,t)},k={create:function(t,e){return e=T(e),m(t,document.createElement("div"),void 0,e),_(t,e)},append:function(t,e,i){return i=T(i),m(e,t,void 0,i),_(e,i)},insertBefore:function(t,e,i){return i=T(i),m(e,t.parentNode,t,i),_(e,i)},merge:function(t,e,i){return i=T(i),e.domNode=t,y(t,e,i),_(e,i)},replace:function(t,e,i){return i=T(i),m(e,t.parentNode,t,i),t.parentNode.removeChild(t),_(e,i)}},E=function(t,e,i){for(var n=0,s=e.length;n<s;n++){var r=e[n];Array.isArray(r)?E(t,r,i):null!=r&&!1!==r&&("string"==typeof r&&(r={vnodeSelector:"",properties:void 0,children:void 0,text:r.toString(),domNode:null}),i.push(r))}};w=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){return t.filter(e)[0]};var O=function(t,e,i){var n=function(n){i("domEvent",n);var s=e(),r=function(t,e){for(var i=[];t!==e;)i.push(t),t=t.parentNode;return i}(n.currentTarget,s.domNode);r.reverse();var o,a=function(t,e){var i=t;return e.forEach(function(t){i=i&&i.children?w(i.children,function(e){return e.domNode===t}):void 0}),i}(s.getLastRender(),r);return t.scheduleRender(),a&&(o=a.properties["on"+n.type].apply(a.properties.bind||this,arguments)),i("domEventProcessed",n),o};return function(t,e,i,s){return n}};t.dom=k,t.h=function(t,e,i){if(Array.isArray(e))i=e,e=void 0;else if(e&&("string"==typeof e||e.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var n,s;return i&&1===i.length&&"string"==typeof i[0]?n=i[0]:i&&(E(t,i,s=[]),0===s.length&&(s=void 0)),{vnodeSelector:t,properties:e,children:s,text:""===n?void 0:n,domNode:null}},t.createProjector=function(t){var e,i,n=T(t),s=n.performanceLogger,r=!0,o=!1,a=[],h=[],c=function(t,i,r){var o;n.eventHandlerInterceptor=O(e,function(){return o},s),o=t(i,r(),n),a.push(o),h.push(r)},u=function(){if(i=void 0,r){r=!1,s("renderStart",void 0);for(var t=0;t<a.length;t++){var e=h[t]();s("rendered",void 0),a[t].update(e),s("patched",void 0)}s("renderDone",void 0),r=!0}};return e={renderNow:u,scheduleRender:function(){i||o||(i=requestAnimationFrame(u))},stop:function(){i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:function(){o=!1,r=!0,e.scheduleRender()},append:function(t,e){c(k.append,t,e)},insertBefore:function(t,e){c(k.insertBefore,t,e)},merge:function(t,e){c(k.merge,t,e)},replace:function(t,e){c(k.replace,t,e)},detach:function(t){for(var e=0;e<h.length;e++)if(h[e]===t)return h.splice(e,1),a.splice(e,1)[0];throw new Error("renderFunction was not found")}}},t.createCache=function(){var t,e;return{invalidate:function(){e=void 0,t=void 0},result:function(i,n){if(t)for(var s=0;s<i.length;s++)t[s]!==i[s]&&(e=void 0);return e||(e=n(),t=i),e}}},t.createMapping=function(t,e,i){var n=[],s=[];return{results:s,map:function(r){for(var o=r.map(t),a=s.slice(),h=0,c=0;c<r.length;c++){var u=r[c],l=o[c];if(l===n[h])s[c]=a[h],i(u,a[h],c),h++;else{for(var d=!1,f=1;f<n.length+1;f++){var p=(h+f)%n.length;if(n[p]===l){s[c]=a[p],i(r[c],a[p],c),h=p+1,d=!0;break}}d||(s[c]=e(u,c))}}s.length=r.length,n=o}}},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,i){"use strict";function n(t,e){var i={};switch(typeof e){case"object":i=n(e);break;case"function":i=n(e.prototype)}return i;function n(e){var i={};return Object.getOwnPropertyNames(e).map(function(n){if(t.indexOf(n)<0){var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s)return;s.get||s.set?i[n]=s:"function"==typeof s.value&&(i[n]=s)}}),i}}Object.defineProperty(e,"__esModule",{value:!0}),e.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,i){!function(t,e){for(var i=Object.getOwnPropertyNames(t.prototype),s=0,r=e;s<r.length;s++){var o=n(i,r[s]);Object.defineProperties(t.prototype,o)}}(e.constructor,t.reverse())}},e.delegate=function(t){return function(e,i){e.constructor.prototype[i]=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);e.Factory=n.Factory;var s=i(18);e.Node=s.Node;var r=i(24);e.Transform=r.Transform;var o=i(26);e.Clickable=o.Clickable;var a=i(27);e.TransformTween=a.TransformTween},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(15);e.resolution=new n.Vector2(1280,720)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.attach=function(t,e){this._attach(t,e,!1)},t.prototype.once=function(t,e){this._attach(t,e,!0)},t.prototype._attach=function(t,e,i){var n,s,r;if("function"==typeof t)s=t;else if(e||"function"!=typeof t.post){if("object"!=typeof t)throw new Error("Expect a function or object as first argument");if("function"!=typeof e)throw new Error("Expect a function as second argument");n=t,s=e}else r=t;this._listeners?this._listeners=this._listeners.slice():this._listeners=[],this._listeners.push({deleted:!1,boundTo:n,handler:s,event:r,once:i})},t.prototype.detach=function(){for(var t,e,i,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];this._listeners&&0!==this._listeners.length&&(n.length>=1&&("function"==typeof n[0]?e=n[0]:1===n.length&&"function"==typeof n[0].post?i=n[0]:t=n[0]),n.length>=2&&(e=n[1]),this._listeners=this._listeners.filter(function(n){return void 0!==e&&n.handler!==e||void 0!==i&&n.event!==i||void 0!==t&&n.boundTo!==t||(n.deleted=!0,!1)}),0===this._listeners.length&&delete this._listeners)},t.prototype.post=function(t){throw new Error("abstract")},t.prototype.listenerCount=function(){return this._listeners?this._listeners.length:0},t.prototype._call=function(t,e){t.deleted||(t.once&&(t.deleted=!0,this._listeners=this._listeners.filter(function(e){return e!==t}),0===this._listeners.length&&delete this._listeners),t.event?t.event.post.apply(t.event,e):t.handler.apply("object"==typeof t.boundTo?t.boundTo:this,e))},t}();e.BaseEvent=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15);e.Vector2=n.Vector2;var s=i(25);e.isString=s.isString},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(4)),n(i(7)),n(i(12)),n(i(13)),n(i(22));var s=i(8),r=i(8);e.EventQueue=r.default,e.queue=function(){return s.default.global()},e.flushOnce=function(){s.default.global().flushOnce()},e.flush=function(t){void 0===t&&(t=10),s.default.global().flush(t)}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._recursion=0,e}return s(e,t),e.prototype.post=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(this._listeners&&0!==this._listeners.length){if(this._recursion++,e.MAX_RECURSION_DEPTH>0&&this._recursion>e.MAX_RECURSION_DEPTH)throw new Error("event fired recursively");for(var n=this._listeners,s=0;s<n.length;++s){var r=n[s];this._call(r,t)}this._recursion--}},e.MAX_RECURSION_DEPTH=10,e}(i(4).BaseEvent);e.SyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidSyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorSyncEvent=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),s=function(){function t(){this.evtFilled=new n.SyncEvent,this.evtDrained=new n.SyncEvent,this._queue=[],this._flushing=!1}return t.global=function(){return t._instance||t.resetGlobal(),t._instance},t.resetGlobal=function(){t._instance=new t},t.prototype.empty=function(){return 0===this._queue.length},t.prototype.add=function(t){this._queue.push(t),1!==this._queue.length||this._flushing||this.evtFilled.post(this)},t.prototype.flushOnce=function(){var t=0===this._queue.length,e=this._flushing;this._flushing=!0;try{var i=this._queue;this._queue=[];for(var n=0;n<i.length;++n)i[n]()}finally{this._flushing=e,t||e||0!==this._queue.length||this.evtDrained.post(this)}},t.prototype.flush=function(t){void 0===t&&(t=10);var e=0===this._queue.length,i=this._flushing;this._flushing=!0;try{for(var n=0;this._queue.length>0;){if("number"==typeof t&&n>=t)throw this._queue=[],new Error("unable to flush the queue due to recursively added event. Clearing queue now");this.flushOnce(),++n}}finally{this._flushing=i,e||i||0!==this._queue.length||this.evtDrained.post(this)}},t}();e.default=s},function(t,e,i){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTween=class{constructor(){this.events={},this.elapsed=0,this.duration=0,this.timescale=1,this.state=0,this.first=!0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}start(){return 0!==this.state?this:(this.first?this.validate():this.check(),this.state=1,this.parent.addTick(this.tickCb),this.first&&(this.emitEvent(this.events.start),this.first=!1),this)}recycle(){this.reset(!0),this.first=!0}reset(t){this.state=0,t||this.removeParent(),this.loop&&(this.loop.value=this.loop.original),this.loopInit(),this.emitEvent(this.events.restart)}resetAndStart(t){this.loopInit(),this.emitEvent(this.events.restart),this.state=1,t>0&&this.tickCb(t)}setParent(t){return this.removeParent(),this.parent=t,this}setTimescale(t){return this.timescale=t,this}pause(){1===this.state?(this.state=2,this.removeParent()):this.info(1,"Cannot pause this tween ",this.state)}resume(){2===this.state?(this.state=1,this.parent.addTick(this.tickCb)):this.info(1,"Cannot resume this tween ",this.state)}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else if(0===this.state&&this.emitEvent(this.events.start),t){const t=this.yo?this.yo.value*this.duration:0;this.tickCb(this.duration-this.elapsed+t)}else this.elapsed=this.duration,this.complete()}kill(){4!==this.state?(this.state=4,this.removeParent(),this.emitEvent(this.events.kill)):this.info(1,"Cannot kill this tween ",this.state)}setLoop(t){return this.loop||(this.loop={original:1,value:1}),this.loop.original=Math.round(t),this.loop.value=this.loop.original,this}setSettings(t){return this.settings?Object.assign(this.settings,t):this.settings=t,this}complete(){this.state>=3?this.info(1,"Cannot complete this tween ",this.state):(this.state=3,this.removeParent(),this.emitEvent(this.events.complete))}removeParent(){this.parent&&this.parent.removeTick(this.tickCb)}check(){}validate(){}loopInit(){this.elapsed=0}info(t,e,i){!this.settings||t>this.settings.logLevel||console.log(e,i)}emit(t,e){if(this.settings&&!this.settings.safe)return t.apply(this,e);try{t.apply(this,e)}catch(t){console.warn(t)}}emitEvent(t,e){if(t)if(t instanceof Array)for(const i of t)this.emit(i,e);else this.emit(t,e)}onStart(t){return this.onEvent("start",t)}onRestart(t){return this.onEvent("restart",t)}onUpdate(t){return this.onEvent("update",t)}onKilled(t){return this.onEvent("kill",t)}onComplete(t){return this.onEvent("complete",t)}onEvent(t,e){return this.events[t]?this.events[t]instanceof Array?this.events[t].push(e):this.events[t]=[this.events[t],e]:this.events[t]=e,this}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Delay=class extends n.BaseTween{constructor(t){super(),this.remains=0,this.duration=t,this.tickCb=this.tick.bind(this)}tick(t){for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains;const t=Math.max(Math.min(this.elapsed/this.duration,1),0);if(this.events.update&&this.emitEvent(this.events.update,[this.remains,t]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.resetAndStart(0)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(6),r=i(1);e.Sequence=class extends n.BaseTween{constructor(t){if(super(),this.evtTick=new Set,this.tweens=[],this.index=0,this.remains=0,this.tickCb=this.tick.bind(this),t){this.tweens=new Array(t.length);for(let e=0;e<t.length;e++)t[e].setParent(this),this.tweens[e]=[t[e]]}}get count(){return this.tweens.length}loopInit(){this.index=0;for(const t of this.tweens)for(const e of t)e.reset()}addTick(t){this.evtTick.add(t)}removeTick(t){this.evtTick.delete(t)}tick(t){this.state>=3||(this.remains=t*this.timescale,this.elapsed+=this.remains,this.localTick(this.remains))}localTick(t,e){if(this.cur||this.nextTween(),this.cur&&(this.evtTick.forEach(function(e){e(t)}),!0!==e&&this.events.update&&this.emitEvent(this.events.update,[t,0])),this.remains=t,this.cur){for(const t of this.cur)if(3!==t.state)return;if(this.remains=this.cur[0].elapsed-this.cur[0].duration,this.events.stepEnd&&this.emitEvent(this.events.stepEnd,this.cur[0]),this.cur=void 0,this.index++,this.remains>.01)return void this.localTick(this.remains,!0)}if(!this.cur&&this.tweens.length===this.index){if(this.loop&&(this.loop.value--,0!==this.loop.value))return void this.resetAndStart(this.remains);this.complete()}}nextTween(){if(this.cur=this.tweens[this.index],this.cur){for(const t of this.cur)t.start();this.events.stepStart&&this.emitEvent(this.events.stepStart,this.cur[0])}}append(t){return t.setParent(this),this.tweens[this.tweens.length]=[t],this}appendCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}appendInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}prepend(t){return t.setParent(this),this.tweens.unshift([t]),this}prependCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens.unshift([e]),this}prependInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens.unshift([e]),this}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else{for(const e of this.tweens)for(const i of e)0===i.elapsed&&this.emitEvent(this.events.stepStart,i),i.skip(t),this.emitEvent(this.events.stepEnd,i);super.skip()}}kill(){if(4!==this.state){for(const t of this.tweens)for(const e of t)e.kill();super.kill()}else this.info(1,"Cannot kill this tween ",this.state)}join(t){return 0===this.tweens.length?this.append(t):(t.setParent(this),this.tweens[this.tweens.length-1].push(t),this)}onStepStart(t){return this.onEvent("stepStart",t)}onStepEnd(t){return this.onEvent("stepEnd",t)}}},function(t,e,i){"use strict";const n=i(4);t.exports=new n.Fatina},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),s=i(1),r=i(2),o=i(7);let a,h,c;"undefined"!=typeof window&&(h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame),e.Fatina=class{constructor(){this.plugin={},this.loadedPlugins=[],this.eventCreated=[],this.settings={logLevel:0,safe:!0,smooth:!0,maxFrameDt:50,maxFrameNumber:40,maxDt:15e3},this.time=0,this.dt=0,this.lastTime=0,this.initialized=!1}get elapsed(){return this.manager.elapsed}get mainTicker(){return this.initialized||this.init(),this.manager}init(t){return!this.initialized&&(this.manager||(this.manager=new n.Ticker,this.manager.start()),"undefined"==typeof window||t||(a=h(this.updateLoop.bind(this))),this.initialized=!0,!0)}setTimescale(t){this.init(),this.manager.setTimescale(t)}pause(){this.init(),this.manager.pause()}resume(){this.init(),this.manager.resume()}destroy(){this.manager&&this.manager.kill(),a&&c(a),this.initialized=!1}update(t){this.initialized&&this.manager&&(this.manager.tick(t),this.time+=t)}tween(t){const e=new o.Tween(t);return this.addContext(e),e}sequence(t){const e=new r.Sequence(t);return this.addContext(e),e}delay(t){const e=new s.Delay(t);return this.addContext(e),e}setTimeout(t,e){const i=new s.Delay(e).onComplete(t);return this.addContext(i),i.start()}setInterval(t,e){const i=new s.Delay(e).onRestart(t).setLoop(-1);return this.addContext(i),i.start()}addContext(t){this.initialized||this.init(),t.setParent(this.manager),0===this.settings.logLevel&&this.settings.safe||t.setSettings(this.settings),this.emitCreated(t)}ticker(){this.initialized||this.init();const t=new n.Ticker,e=t.tick.bind(t);return t.setParent(this.manager,e),this.manager.addTick(e),t.start(),this.emitCreated(t),t}updateLoop(t){if(this.dt+=t-this.lastTime,this.dt>this.settings.maxDt&&(console.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`),this.dt=this.settings.maxDt),this.settings.smooth){let t=0;for(;this.dt>0&&t<this.settings.maxFrameNumber;){const e=Math.min(this.dt,this.settings.maxFrameDt);this.update(e),this.dt-=e,t++}}else this.update(this.dt),this.dt=0;this.lastTime=t,a=h(this.updateLoop.bind(this))}loadPlugin(t){t.init(this),this.loadedPlugins.push(t),this.info(2,"Plugin Loaded",t.name)}info(t,e,i){t>this.settings.logLevel||(i?console.log(e,i):console.log(e))}emit(t,e){if(!this.settings.safe)return t(e);try{t(e)}catch(t){console.warn(t)}}emitCreated(t){for(const e of this.eventCreated)this.emit(e,t)}addListenerCreated(t){this.eventCreated.push(t)}removeListenerCreated(t){const e=this.eventCreated.indexOf(t);-1!==e&&this.eventCreated.splice(e,1)}setLog(t){this.settings.logLevel=t}setSafe(t){this.settings.safe=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ticker=class{constructor(){this.state=0,this.timescale=1,this.elapsed=0,this.duration=0,this.ticks=new Set,this.newTicks=new Set,this.dt=0}setParent(t,e){this.tickCb=e,this.parent=t}setTimescale(t){this.timescale=t}addTick(t){this.newTicks.add(t)}removeTick(t){this.ticks.delete(t)||this.newTicks.delete(t)}tick(t){1===this.state&&(this.dt=t*this.timescale,this.newTicks.size>0&&(this.newTicks.forEach(t=>this.ticks.add(t)),this.newTicks.clear()),this.ticks.forEach(t=>t(this.dt)),this.elapsed+=this.dt)}start(){0===this.state&&(this.state=1)}pause(){1===this.state&&(this.state=2)}resume(){2===this.state&&(this.state=1)}kill(){this.state>=3||(this.parent&&this.tickCb&&this.parent.removeTick(this.tickCb),this.state=4)}skip(){}reset(){this.state=0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Callback=class extends n.BaseTween{constructor(t){super(),this.callback=t,this.tickCb=this.tick.bind(this)}tick(t){this.elapsed+=t,this.duration=0,this.callback(),this.emitEvent(this.events.update,[t,1]),this.complete()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(0),r=i(2);e.Tween=class extends s.BaseTween{constructor(t){super(),this.prop=[],this.steps=0,this.relative=!1,this.p=0,this.v=0,this.remains=0,this.obj=t,this.tickCb=this.tick.bind(this)}init(t){this.obj=t,this.prop.length=0}validate(){if(!this.obj)throw new Error("undefined object");if(!this.parent)throw new Error("no ticker");this.ease||(this.ease=n.easeNames.linear),this.check()}check(){this.cf||(this.cf={}),this.ct||(this.ct={});for(const t of this.prop)this.f?(this.cf[t]=this.f[t],this.obj[t]=this.f[t]):this.cf[t]=this.obj[t],this.relative?this.ct[t]=this.obj[t]+this.t[t]:this.ct[t]=this.t[t]}tick(t){if(!(this.state>=3))for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains,this.p=Math.max(Math.min(this.elapsed/this.duration,1),0),this.v=this.ease(this.p),this.yo&&(this.yo.original-this.yo.value)%2==1&&(this.v=1-this.ease(1-this.p)),0!==this.steps&&(this.v=Math.round(this.v*this.steps)/this.steps);for(const t of this.prop)this.obj[t]=this.cf[t]+(this.ct[t]-this.cf[t])*this.v;if(this.events.update&&this.emitEvent(this.events.update,[this.remains,this.p]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,this.yo&&this.yo.value>0)this.reverse(),this.resetAndStart(0),this.yo.value--;else{if(!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.check(),this.resetAndStart(0)}}}from(t){return this.f=t,this.updateProp(),this}to(t,e){return this.t=t,this.duration=e,this.updateProp(),this}updateProp(){if(this.obj){for(const t in this.t)this.t.hasOwnProperty(t)&&this.prop.push(t);this.prop.filter((t,e,i)=>e===i.indexOf(t))}}setRelative(t){return this.relative=t,this}modify(t,e){for(const i of this.prop)t.hasOwnProperty(i)&&(this.obj[i]+=t[i],e?this.ct[i]+=t[i]:this.cf[i]+=t[i])}reset(t){if(this.yo){if((this.yo.original-this.yo.value)%2==1){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3}this.yo.value=this.yo.original}super.reset(t)}reverse(){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3,3===this.state&&(this.reset(!0),this.start())}yoyo(t){return this.yo||(this.yo={original:0,value:0}),this.yo.original=t,this.yo.value=t,this}setSteps(t){return this.steps=t,this}toSequence(){if(!this.parent)throw new Error("parent ticker not defined");return(new r.Sequence).setParent(this.parent).append(this)}setEasing(t){if(!(t in n.easeNames))throw new Error(`unknown easing method ${t}`);return this.ease=n.easeNames[t],this}loopInit(){this.elapsed=0}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Math.PI,s=Math.PI/2,r={linear:t=>t,inQuad:t=>t*t,outQuad:t=>2*t-t*t,inOutQuad:t=>t<.5?2*t*t:2*(2*t-t*t)-1,inCubic:t=>t*t*t,outCubic:t=>3*t-3*t*t+t*t*t,inOutCubic:t=>t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3,inQuart:t=>t*t*t*t,outQuart:t=>{const e=t*t;return 4*t-6*e+4*e*t-e*e},inOutQuart:t=>{if(t<.5)return 8*t*t*t*t;{const e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7}},inSine:t=>1===t?1:1-Math.cos(s*t),outSine:t=>Math.sin(s*t),inOutSine:t=>t<.5?(1-Math.cos(n*t))/2:(1+Math.sin(n*(t-.5)))/2,inCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),outCirc:t=>Math.sqrt(1-Math.pow(1-t,2)),inOutCirc:t=>t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(8*t-3-4*t*t))/2,inQuint:t=>t*t*t*t*t,outQuint:t=>--t*t*t*t*t+1,InOutQuint:t=>(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),inExponential:t=>1===t?1:0===t?0:Math.pow(1024,t-1),outExponential:t=>1===t?1:1-Math.pow(2,-10*t),inOutExponential:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1))),inElastic:t=>0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),outElastic:t=>1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,inOutElastic:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1,inBack:t=>{const e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},outBack:t=>{const e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},inOutBack:t=>{const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},outBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,inBounce:t=>1-r.outBounce(1-t),inOutBounce:t=>t<.5?.5*r.inBounce(2*t):.5*r.outBounce(2*t-1)+.5};e.easeNames=r}])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17);e.JilCanvas=n.JilCanvas;var s=i(28);e.JilLayer=s.JilLayer;var r=i(29);e.JilPanel=r.JilPanel;var o=i(30);e.JilScene=o.JilScene;var a=i(31);e.JilButton=a.JilButton;var h=i(32);e.JilImage=h.JilImage;var c=i(33);e.JilText=c.JilText},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.types={},e.register=function(t,i){e.types[t]=i};e.Factory=class{create(t,i,n){if(!e.types[t])throw new Error(`Cannot create type ${t}`);const s=new e.types[t](i,n,this,this._projector);return this.addChild(s),s}}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),o=i(8),a=function(t){function e(e){var i=t.call(this)||this;i._queued=!1,i.options=e;var n=e||{};return"boolean"==typeof n.condensed?i._condensed=n.condensed:i._condensed=!1,"object"==typeof n.queue&&null!==n.queue&&(i._queue=n.queue),i}return s(e,t),e.prototype.post=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this._listeners&&0!==this._listeners.length){var n=this._queue?this._queue:o.default.global();if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,n.add(function(){t._queued=!1;for(var e=t._queuedData,i=t._queuedListeners,n=0;n<i.length;++n){var s=i[n];t._call(s,e)}})}else{var s=this._listeners;n.add(function(){for(var i=0;i<s.length;++i){var n=s[i];t._call(n,e)}})}}},e}(r.BaseEvent);e.QueuedEvent=a;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(a);e.VoidQueuedEvent=h;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(!this._listeners||0===this._listeners.length)throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(a);e.ErrorQueuedEvent=c},function(t,e,i){"use strict";(function(t){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){function i(t){var i=e.call(this)||this;i._queued=!1,i.options=t;var n=t||{};return"boolean"==typeof n.condensed?i._condensed=n.condensed:i._condensed=!1,i}return s(i,e),i.defaultScheduler=function(e){"undefined"!=typeof window?setTimeout(e,0):t(e)},i.setScheduler=function(t){i._scheduler=t},i.prototype.post=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this._listeners&&0!==this._listeners.length)if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,i._scheduler(function(){t._queued=!1;for(var e=t._queuedData,i=t._queuedListeners,n=0;n<i.length;++n){var s=i[n];t._call(s,e)}})}else{var s=this._listeners;i._scheduler(function(){for(var i=0;i<s.length;++i){var n=s[i];t._call(n,e)}})}},i.prototype._call=function(t,n){t.event&&t.event instanceof i?t.event._postDirect(n):e.prototype._call.call(this,t,n)},i.prototype._postDirect=function(t){if(this._listeners&&0!==this._listeners.length)for(var e=this._listeners,i=0;i<e.length;++i){var n=e[i];this._call(n,t)}},i._scheduler=i.defaultScheduler,i}(i(4).BaseEvent);e.AsyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidAsyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorAsyncEvent=a}).call(this,i(19).setImmediate)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Vector2=class{constructor(t,e){this.x=0,this.y=0,t&&(this.x=t),e&&(this.y=e)}set(t,e){this.x=t,this.y=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(10),s=i(11),r=i(34);e.SceneManager=r.SceneManager,s.register("button",n.JilButton),s.register("panel",n.JilPanel),s.register("layer",n.JilLayer),s.register("image",n.JilImage),s.register("text",n.JilText),s.register("canvas",n.JilCanvas),e.init=r.SceneManager.init,e.create=r.SceneManager.create,e.use=r.SceneManager.use},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2),a=i(3);class h{constructor(t,e,i,n){this.id=t,this._parent=i,this._projector=n,this.resetClickable(),this.resetTransform(),this.resetStyle()}render(){return r.h("canvas",{id:this.id,key:this.id,width:a.resolution.x,height:a.resolution.y,class:"canvas",onclick:this.click.bind(this),afterCreate:this.handlerAfterCreate.bind(this),afterRemoved:this.handleAfterRemoved.bind(this)})}}n([s.use(o.Node,o.Transform,o.Clickable,o.TransformTween)],h.prototype,"this",void 0),e.JilCanvas=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(6);e.Node=class{constructor(){this._childrens=[]}resetTransform(){this._childrens=[],this.createEvent||(this.createEvent=new s.SyncEvent),this.destroyEvent||(this.destroyEvent=new s.SyncEvent)}handlerAfterCreate(){this.createEvent&&this.createEvent.post()}handleAfterRemoved(){this.destroyEvent&&this.destroyEvent.post()}onLoad(t){this.createEvent&&this.createEvent.attach(t)}onDestroy(t){this.destroyEvent&&this.destroyEvent.attach(t)}addChild(t){this._childrens.push(t),this.refresh()}removeChild(t){const e=this._childrens.indexOf(t);-1!==e&&this._childrens.splice(e,1),this.refresh()}destroy(){this._parent&&this._parent.removeChild(this)}refresh(){this._projector&&this._projector.scheduleRender()}render(){return n.h("div",this._childrens.map(t=>t.render()))}toString(){return`[UI ${this.id}]`}}},function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(s.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(20),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(14))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,s,r,o,a,h=1,c={},u=!1,l=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){r.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return c[h]=s,n(h),h++},d.clearImmediate=f}function f(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(14),i(21))},function(t,e){var i,n,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,c=[],u=!1,l=-1;function d(){u&&h&&(u=!1,h.length?c=h.concat(c):l=-1,c.length&&f())}function f(){if(!u){var t=a(d);u=!0;for(var e=c.length;e;){for(h=c,c=[];++l<e;)h&&h[l].run();l=-1,e=c.length}h=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new p(t,e)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(23),a=i(7),h=i(13),c=i(12);!function(t){t[t.Sync=0]="Sync",t[t.Async=1]="Async",t[t.Queued=2]="Queued"}(r=e.EventType||(e.EventType={}));var u=function(){function t(t){this._events=[],t&&t.monitorAttach&&(this.evtFirstAttached=new l,this.evtLastDetached=new l)}return t.prototype.attach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.Sync;t.length>0&&"number"==typeof t[0]&&(i=t.shift());var n,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?n=t[0]:o=t[0],s=t[1]):(a=t[0],n=t[1],s=t[2]),this._attach(i,a,n,o,s,!1)},t.prototype.once=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.Sync;t.length>0&&"number"==typeof t[0]&&(i=t.shift());var n,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?n=t[0]:o=t[0],s=t[1]):(a=t[0],n=t[1],s=t[2]),this._attach(i,a,n,o,s,!0)},t.prototype._attach=function(t,e,i,n,s,u){var l,d=this.evtFirstAttached?this.listenerCount():0;switch(t){case r.Sync:for(var f=0,p=this._events;f<p.length;f++){(w=p[f])instanceof a.SyncEvent&&(l=w)}l||(l=new a.SyncEvent,this._events.push(l));break;case r.Async:for(var v=0,y=this._events;v<y.length;v++){(w=y[v])instanceof h.AsyncEvent&&o.shallowEquals(w.options,s)&&(l=w)}l||(l=new h.AsyncEvent(s),this._events.push(l));break;case r.Queued:for(var m=0,g=this._events;m<g.length;m++){var w;(w=g[m])instanceof c.QueuedEvent&&o.shallowEquals(w.options,s)&&(l=w)}l||(l=new c.QueuedEvent(s),this._events.push(l));break;default:throw new Error("unknown EventType")}u?n?l.once(n):l.once(e,i):n?l.attach(n):l.attach(e,i),this.evtFirstAttached&&0===d&&this.evtFirstAttached.post()},t.prototype.attachSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.attach.apply(this,t)},t.prototype.onceSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.once.apply(this,t)},t.prototype.attachAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.attach.apply(this,t)},t.prototype.onceAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.once.apply(this,t)},t.prototype.attachQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.attach.apply(this,t)},t.prototype.onceQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.once.apply(this,t)},t.prototype.detach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this.evtLastDetached?this.listenerCount():0,n=0;n<this._events.length;++n)this._events[n].detach.apply(this._events[n],t);this.evtLastDetached&&i>0&&0===this.listenerCount()&&this.evtLastDetached.post()},t.prototype.post=function(t){for(var e=[],i=0;i<this._events.length;++i)e.push(this._events[i]);for(i=0;i<e.length;++i)e[i].post(t)},t.prototype.listenerCount=function(){for(var t=0,e=0;e<this._events.length;++e)t+=this._events[e].listenerCount();return t},t}();e.AnyEvent=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(u);e.VoidAnyEvent=l;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(u);e.ErrorAnyEvent=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEquals=function(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;switch(typeof t){case"boolean":case"number":case"string":case"function":case"symbol":case"undefined":return!1;case"object":if(null===t||null===e)return!1;if(Array.isArray(t)||Array.isArray(e)){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}var n=[],s=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);for(var o in e)e.hasOwnProperty(o)&&s.push(o);if(n.sort(),s.sort(),n.join(",")!==s.join(","))return!1;for(i=0;i<n.length;++i)if(t[n[i]]!==e[n[i]])return!1;return!0;default:return!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),s=i(3);e.Transform=class{constructor(){this.enable=!0,this.anchor=void 0,this.pivot=void 0,this.position=void 0,this.positionPx=void 0,this.size=void 0,this.sizePx=void 0,this.scale=void 0,this.opacity=1,this.rotation=0}resetStyle(){const t=this,e={set:(e,i,n)=>(e[i]=n,t.refresh&&t.refresh(),!0)},i={get:(e,i)=>"x"!==i&&"y"!==i?e[i]:t.position[i]*s.resolution[i],set:(e,i,n)=>"x"!==i&&"y"!==i?e[i]=n:(t.position[i]=n/s.resolution[i],!0)},r={get:(e,i)=>"x"!==i&&"y"!==i?e[i]:t.size[i]*s.resolution[i],set:(e,i,n)=>"x"!==i&&"y"!==i?e[i]=n:(t.size[i]=n/s.resolution[i],!0)};this.enable=!0,this.anchor=new Proxy(new n.Vector2,e),this.pivot=new Proxy(new n.Vector2,e),this.position=new Proxy(new n.Vector2,e),this.positionPx=new Proxy(new n.Vector2,i),this.size=new Proxy(new n.Vector2(1,1),e),this.sizePx=new Proxy(new n.Vector2,r),this.scale=new Proxy(new n.Vector2(1,1),e),this.opacity=1,this.rotation=0}getStyle(){let t=`translate(${100*(this.anchor.x/this.size.x-this.pivot.x+this.position.x/this.size.x)}%, ${100*(this.anchor.y/this.size.y-this.pivot.y+this.position.y/this.size.y)}%) `;return 1===this.scale.x&&1===this.scale.y||(t+=`scale(${this.scale.x}, ${this.scale.y}) `),0!==this.rotation&&(t+=`rotate(${this.rotation}deg)`),{display:this.enable&&this.opacity>0?"block":"none",width:`${100*this.size.x}%`,height:`${100*this.size.y}%`,transformOrigin:"top left",opacity:this.opacity.toString(),transform:t,willChange:"transform, opacity"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6);e.Clickable=class{resetClickable(){this.clickEvent=new n.SyncEvent}click(){this.clickEvent&&this.clickEvent.post()}onClick(t){this.clickEvent&&this.clickEvent.attach(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9);e.TransformTween=class{_moveTween(t,e,i,s){const r=this,o=n.tween(r.position).to(t,e).setEasing("inOutQuad");return r.refresh&&o.onUpdate(()=>r.refresh()),i&&(s&&this.moveTween&&this.moveTween.kill(),o.start()),this.moveTween=o,o}moveX(t=0,e=250,i=!0,n=!1){return this._moveTween({x:t},e,i,n)}moveY(t=0,e=250,i=!0,n=!1){return this._moveTween({y:t},e,i,n)}move(t=0,e=0,i=250,n=!0,s=!0){return this._moveTween({x:t,y:e},i,n,s)}_fadeTween(t,e,i,s){const r=this,o=n.tween(this).to(t,e).setEasing("inOutQuad");return r.refresh&&o.onUpdate(()=>r.refresh()),i&&(s&&this.fadeTween&&this.fadeTween.kill(),o.start()),this.fadeTween=o,o}show(t=150,e=!0,i=!0){return this._fadeTween({opacity:1},t,e,i)}hide(t=150,e=!0,i=!0){return this._fadeTween({opacity:0},t,e,i)}_rotateTween(t,e,i,s){const r=this,o=n.tween(this).to(t,e).setEasing("inOutQuad");return r.refresh&&o.onUpdate(()=>r.refresh()),i&&(s&&this.rotateTween&&this.rotateTween.kill(),o.start()),this.rotateTween=o,o}rotate(t=150,e=!0,i=!0){return this._fadeTween({opacity:1},t,e,i)}}},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2),a=i(3);class h{constructor(t,e,i,n){this.createPanel=(t=>this.create("panel",t)),this.createButton=((t,e)=>this.create("button",t,e)),this.createImage=((t,e)=>this.create("image",t,e)),this.createText=((t,e)=>this.create("text",t,e)),this.createCanvas=((t,e)=>this.create("canvas",t,e)),this.id=t,this.classname=e||"",this._parent=i,this._projector=n,this.resetTransform(),this.resetStyle(),window.addEventListener("resize",this.resizeHandler.bind(this),!1)}resizeHandler(){this.refresh()}render(){const t={};if(t.display=this.enable?"block":"none",t.opacity=this.opacity.toString(),window.innerWidth>0&&window.innerWidth>0){const e=window.innerWidth/window.innerHeight,i=a.resolution.x/a.resolution.y,n=window.innerWidth/a.resolution.x,s=window.innerHeight/a.resolution.y,r=e<=i?n:s;t.width=`${a.resolution.x}px`,t.height=`${a.resolution.y}px`,t.transformOrigin="top left",t.transform=`scale(${r})`}return r.h("div",{id:this.id,key:this.id,class:`layer ${this.classname}`.trim(),styles:t},this._childrens.map(t=>t.render()))}}n([s.use(o.Node,o.Transform,o.Factory,o.TransformTween)],h.prototype,"this",void 0),e.JilLayer=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2);class a{constructor(t,e,i,n){this.createPanel=(t=>this.create("panel",t)),this.createButton=((t,e)=>this.create("button",t,e)),this.createImage=((t,e)=>this.create("image",t,e)),this.createText=((t,e)=>this.create("text",t,e)),this.createCanvas=((t,e)=>this.create("canvas",t,e)),this.id=t,this._parent=i,this._projector=n,this.resetTransform(),this.resetStyle()}render(){return r.h("div",{id:this.id,key:this.id,class:"panel",styles:this.getStyle()},this._childrens.map(t=>t.render()))}}n([s.use(o.Node,o.Transform,o.Factory,o.TransformTween)],a.prototype,"this",void 0),e.JilPanel=a},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(6),a=i(2),h=i(5),c=i(3);class u{constructor(t,e){this.createLayer=((t,e)=>this.create("layer",t,e)),this.id=t,this.resolution=new h.Vector2(c.resolution.x,c.resolution.y),this.enterEvent=new o.SyncEvent,this.leaveEvent=new o.SyncEvent,this._projector=e,this.resetTransform(),this.resetStyle(),this.enable=!1}enter(){this.enable||(this.enable=!0,this.enterEvent.post(),this.refresh())}leave(){this.enable&&(this.enable=!1,this.leaveEvent.post(),this.refresh())}render(){const t={};return t.display=this.enable?"block":"none",window.innerWidth/window.innerHeight<=this.resolution.x/this.resolution.y?(t.width="100vw",t.height="56.25vw",t.marginTop="-28.125vw",t.marginLeft="0vw",t.top="50vh",t.left="0vh"):(t.width="177vh",t.height="100vh",t.marginTop="0vh",t.marginLeft="-88.5vh",t.top="0vw",t.left="50vw"),r.h("div",{id:this.id,key:this.id,class:"scene",styles:t},this._childrens.map(t=>t.render()))}onEnter(t){this.enterEvent.attach(t)}onLeave(t){this.leaveEvent.attach(t)}}n([s.use(a.Node,a.Transform,a.Factory)],u.prototype,"this",void 0),e.JilScene=u},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2);class a{constructor(t,e,i,n){this.id=t,this.text=e,this._parent=i,this._projector=n,this.resetClickable(),this.resetTransform(),this.resetStyle()}render(){return r.h("button",{id:this.id,key:this.id,type:"button",class:"nes-btn",styles:this.getStyle(),onclick:this.click.bind(this)},[this.text])}}n([s.use(o.Node,o.Transform,o.Clickable,o.TransformTween)],a.prototype,"this",void 0),e.JilButton=a},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2),a=i(5);class h{constructor(t,e,i,n){this.id=t,this.src=a.isString(e)?e:e.src,this.src||(this.src=""),this.styles=e||{},this._parent=i,this._projector=n,this.resetClickable(),this.resetTransform(),this.resetStyle()}render(){return r.h("img",{id:this.id,key:this.id,src:this.src,styles:this.styles?Object.assign(this.getStyle(),this.styles):this.getStyle(),onclick:this.click.bind(this)})}}n([s.use(o.Node,o.Transform,o.Clickable,o.TransformTween)],h.prototype,"this",void 0),e.JilImage=h},function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),r=i(0),o=i(2),a=i(5);class h{constructor(t,e,i,n){this.id=t,this.text=a.isString(e)?e:e.text,this.text||(this.text="Default Text"),this.styles=e||{},this._parent=i,this._projector=n,this.resetTransform(),this.resetStyle()}render(){return r.h("div",{id:this.id,key:this.id,class:"text",styles:this.styles?Object.assign(this.getStyle(),this.styles):this.getStyle()},[this.text])}}n([s.use(o.Node,o.Transform,o.TransformTween)],h.prototype,"this",void 0),e.JilText=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(10),s=i(0),r=i(35),o=i(3),a=i(9),h={},c=[];let u,l;e.SceneManager=class{static init(t,e){a.init(),(u=s.createProjector()).append(document.body,()=>s.h("div",{id:"root"},c.map(t=>t.render()))),t&&e&&o.resolution.set(t,e)}static create(t){if(!u)throw new Error("JIL is not initialized, please call .init() before using it");return h[t]=new n.JilScene(t,u),c.push(h[t]),u.scheduleRender(),h[t]}static use(t){if(!u)throw new Error("JIL is not initialized, please call .init() before using it");l!==h[t]&&(r.FadeInOut(l,h[t]),l=h[t])}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9);e.FadeInOut=function(t,e){const i=n.sequence();if(i.appendCallback(()=>console.log("Scene Transition Start",t,e)),t){const e=t.createLayer(`FaderOut_${Math.round(1e5*Math.random())}`,"fader");e.opacity=0,i.append(e.show(250,!1)),i.appendCallback(()=>t.leave()),i.appendCallback(()=>e.destroy())}else i.appendInterval(500);const s=e.createLayer(`FaderIn_${Math.round(1e5*Math.random())}`,"fader");s.opacity=1,i.appendCallback(()=>e.enter());const r=s.hide(350,!1);r.onUpdate(()=>s.refresh()),i.append(r),i.appendCallback(()=>console.log("Scene Transition Finish",t,e)),i.appendCallback(()=>s.destroy()),i.start()}}])});