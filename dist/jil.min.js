!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jil",[],e):"object"==typeof exports?exports.jil=e():t.jil=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e,n){!function(t){"use strict";var e,n="http://www.w3.org/2000/svg",i=[],s=function(t,e){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),e&&Object.keys(e).forEach(function(t){n[t]=e[t]}),n},r=function(t,e){return t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties)},o=function(t){if("string"!=typeof t)throw new Error("Style values must be strings")},a=function(t,e,n){if(""!==e.vnodeSelector)for(var i=n;i<t.length;i++)if(r(t[i],e))return i;return-1},h=function(t,e,n,i){var s=t[e];if(""!==s.vnodeSelector){var o=s.properties,a=o?void 0===o.key?o.bind:o.key:void 0;if(!a)for(var h=0;h<t.length;h++)if(h!==e){var c=t[h];if(r(c,s))throw new Error(n.vnodeSelector+" had a "+s.vnodeSelector+" child "+("added"===i?i:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.")}}},c=function(t){if(t.properties){var e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},u=[],l=!1,d=function(t){(t.children||[]).forEach(d),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},f=function(){l=!1,u.forEach(d),u.length=0},p=function(t){u.push(t),l||(l=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(f,{timeout:16}):setTimeout(f,16))},v=function(t){var e=t.domNode;if(t.properties){var n=t.properties.exitAnimation;if(n)return e.style.pointerEvents="none",void n(e,function(){e.parentNode&&(e.parentNode.removeChild(e),p(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),p(t))},y=function(t,e,i){!function(t,e,n){if(e)for(var i=0,s=e;i<s.length;i++){var r=s[i];m(r,t,void 0,n)}}(t,e.children,i),e.text&&(t.textContent=e.text),function(t,e,i){if(e)for(var s=i.eventHandlerInterceptor,r=Object.keys(e),a=r.length,h=function(a){var h,c=r[a],u=e[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)g(t,u,!0);else if("classes"===c)for(var l=Object.keys(u),d=l.length,f=0;f<d;f++){var p=l[f];u[p]&&t.classList.add(p)}else if("styles"===c)for(var v=Object.keys(u),y=v.length,f=0;f<y;f++){var m=v[f],w=u[m];w&&(o(w),i.styleApplyer(t,m,w))}else if("key"!==c&&null!=u){var _=typeof u;"function"===_?0===c.lastIndexOf("on",0)&&(s&&(u=s(c,u,t,e)),"oninput"===c&&(h=u,u=function(t){h.apply(this,[t]),t.target["oninput-value"]=t.target.value}),t[c]=u):i.namespace===n?"href"===c?t.setAttributeNS("http://www.w3.org/1999/xlink",c,u):t.setAttribute(c,u):"string"===_&&"value"!==c&&"innerHTML"!==c?t.setAttribute(c,u):t[c]=u}},c=0;c<a;c++)h(c)}(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},m=function(t,e,i,r){var o,a=0,h=t.vnodeSelector,c=e.ownerDocument;if(""===h)o=t.domNode=c.createTextNode(t.text),void 0!==i?e.insertBefore(o,i):e.appendChild(o);else{for(var u=0;u<=h.length;++u){var l=h.charAt(u);if(u===h.length||"."===l||"#"===l){var d=h.charAt(a-1),f=h.slice(a,u);"."===d?o.classList.add(f):"#"===d?o.id=f:("svg"===f&&(r=s(r,{namespace:n})),void 0!==r.namespace?o=t.domNode=c.createElementNS(r.namespace,f):(o=t.domNode=t.domNode||c.createElement(f),"input"===f&&t.properties&&void 0!==t.properties.type&&o.setAttribute("type",t.properties.type)),void 0!==i?e.insertBefore(o,i):o.parentNode!==e&&e.appendChild(o)),a=u+1}}y(o,t,r)}},g=function(t,e,n){e&&e.split(" ").forEach(function(e){return t.classList.toggle(e,n)})};e=function(t,u,l){var d=t.domNode,f=!1;if(t===u)return!1;var p=!1;if(""===u.vnodeSelector){if(u.text!==t.text){var y=d.ownerDocument.createTextNode(u.text);return d.parentNode.replaceChild(y,d),u.domNode=y,f=!0}u.domNode=d}else 0===u.vnodeSelector.lastIndexOf("svg",0)&&(l=s(l,{namespace:n})),t.text!==u.text&&(p=!0,void 0===u.text?d.removeChild(d.firstChild):d.textContent=u.text),u.domNode=d,p=function(t,n,s,o,u){if(s===o)return!1;o=o||i;for(var l,d=(s=s||i).length,f=o.length,p=0,y=0,g=!1;y<f;){var w=p<d?s[p]:void 0,_=o[y];if(void 0!==w&&r(w,_))g=e(w,_,u)||g,p++;else{var b=a(s,_,p+1);if(b>=0){for(l=p;l<b;l++)v(s[l]),h(s,l,t,"removed");g=e(s[b],_,u)||g,p=b+1}else m(_,n,p<d?s[p].domNode:void 0,u),c(_),h(o,y,t,"added")}y++}if(d>p)for(l=p;l<d;l++)v(s[l]),h(s,l,t,"removed");return g}(u,d,t.children,u.children,l)||p,p=function(t,e,i,s){if(i){for(var r=!1,a=Object.keys(i),h=a.length,c=0;c<h;c++){var u=a[c],l=i[u],d=e[u];if("class"===u)d!==l&&(g(t,d,!1),g(t,l,!0));else if("classes"===u)for(var f=t.classList,p=Object.keys(l),v=p.length,y=0;y<v;y++){var m=p[y],w=!!l[m],_=!!d[m];w!==_&&(r=!0,w?f.add(m):f.remove(m))}else if("styles"===u)for(var b=Object.keys(l),E=b.length,y=0;y<E;y++){var T=b[y],k=l[T],O=d[T];k!==O&&(r=!0,k?(o(k),s.styleApplyer(t,T,k)):s.styleApplyer(t,T,""))}else if(l||"string"!=typeof d||(l=""),"value"===u){var x=t[u];x!==l&&(t["oninput-value"]?x===t["oninput-value"]:l!==d)&&(t[u]=l,t["oninput-value"]=void 0),l!==d&&(r=!0)}else if(l!==d){var P=typeof l;"function"===P&&s.eventHandlerInterceptor||(s.namespace===n?"href"===u?t.setAttributeNS("http://www.w3.org/1999/xlink",u,l):t.setAttribute(u,l):"string"===P&&"innerHTML"!==u?"role"===u&&""===l?t.removeAttribute(u):t.setAttribute(u,l):t[u]!==l&&(t[u]=l),r=!0)}}return r}}(d,t.properties,u.properties,l)||p,u.properties&&u.properties.afterUpdate&&u.properties.afterUpdate.apply(u.properties.bind||u.properties,[d,l,u.vnodeSelector,u.properties,u.children]);return p&&u.properties&&u.properties.updateAnimation&&u.properties.updateAnimation(d,u.properties,t.properties),f};var w,_=function(t,n){return{getLastRender:function(){return t},update:function(i){if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var s=t;t=i,e(s,i,n)},domNode:t.domNode}},b={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(t,e,n){t.style[e]=n}},E=function(t){return s(b,t)},T={create:function(t,e){return e=E(e),m(t,document.createElement("div"),void 0,e),_(t,e)},append:function(t,e,n){return n=E(n),m(e,t,void 0,n),_(e,n)},insertBefore:function(t,e,n){return n=E(n),m(e,t.parentNode,t,n),_(e,n)},merge:function(t,e,n){return n=E(n),e.domNode=t,y(t,e,n),_(e,n)},replace:function(t,e,n){return n=E(n),m(e,t.parentNode,t,n),t.parentNode.removeChild(t),_(e,n)}},k=function(t,e,n){for(var i=0,s=e.length;i<s;i++){var r=e[i];Array.isArray(r)?k(t,r,n):null!=r&&!1!==r&&("string"==typeof r&&(r={vnodeSelector:"",properties:void 0,children:void 0,text:r.toString(),domNode:null}),n.push(r))}};w=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){return t.filter(e)[0]};var O=function(t,e,n){var i=function(i){n("domEvent",i);var s=e(),r=function(t,e){for(var n=[];t!==e;)n.push(t),t=t.parentNode;return n}(i.currentTarget,s.domNode);r.reverse();var o,a=function(t,e){var n=t;return e.forEach(function(t){n=n&&n.children?w(n.children,function(e){return e.domNode===t}):void 0}),n}(s.getLastRender(),r);return t.scheduleRender(),a&&(o=a.properties["on"+i.type].apply(a.properties.bind||this,arguments)),n("domEventProcessed",i),o};return function(t,e,n,s){return i}};t.dom=T,t.h=function(t,e,n){if(Array.isArray(e))n=e,e=void 0;else if(e&&("string"==typeof e||e.hasOwnProperty("vnodeSelector"))||n&&("string"==typeof n||n.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var i,s;return n&&1===n.length&&"string"==typeof n[0]?i=n[0]:n&&(k(t,n,s=[]),0===s.length&&(s=void 0)),{vnodeSelector:t,properties:e,children:s,text:""===i?void 0:i,domNode:null}},t.createProjector=function(t){var e,n,i=E(t),s=i.performanceLogger,r=!0,o=!1,a=[],h=[],c=function(t,n,r){var o;i.eventHandlerInterceptor=O(e,function(){return o},s),o=t(n,r(),i),a.push(o),h.push(r)},u=function(){if(n=void 0,r){r=!1,s("renderStart",void 0);for(var t=0;t<a.length;t++){var e=h[t]();s("rendered",void 0),a[t].update(e),s("patched",void 0)}s("renderDone",void 0),r=!0}};return e={renderNow:u,scheduleRender:function(){n||o||(n=requestAnimationFrame(u))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),o=!0},resume:function(){o=!1,r=!0,e.scheduleRender()},append:function(t,e){c(T.append,t,e)},insertBefore:function(t,e){c(T.insertBefore,t,e)},merge:function(t,e){c(T.merge,t,e)},replace:function(t,e){c(T.replace,t,e)},detach:function(t){for(var e=0;e<h.length;e++)if(h[e]===t)return h.splice(e,1),a.splice(e,1)[0];throw new Error("renderFunction was not found")}}},t.createCache=function(){var t,e;return{invalidate:function(){e=void 0,t=void 0},result:function(n,i){if(t)for(var s=0;s<n.length;s++)t[s]!==n[s]&&(e=void 0);return e||(e=i(),t=n),e}}},t.createMapping=function(t,e,n){var i=[],s=[];return{results:s,map:function(r){for(var o=r.map(t),a=s.slice(),h=0,c=0;c<r.length;c++){var u=r[c],l=o[c];if(l===i[h])s[c]=a[h],n(u,a[h],c),h++;else{for(var d=!1,f=1;f<i.length+1;f++){var p=(h+f)%i.length;if(i[p]===l){s[c]=a[p],n(r[c],a[p],c),h=p+1,d=!0;break}}d||(s[c]=e(u,c))}}s.length=r.length,i=o}}},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function i(t,e){var n={};switch(typeof e){case"object":n=i(e);break;case"function":n=i(e.prototype)}return n;function i(e){var n={};return Object.getOwnPropertyNames(e).map(function(i){if(t.indexOf(i)<0){var s=Object.getOwnPropertyDescriptor(e,i);if(void 0===s)return;s.get||s.set?n[i]=s:"function"==typeof s.value&&(n[i]=s)}}),n}}Object.defineProperty(e,"__esModule",{value:!0}),e.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){!function(t,e){for(var n=Object.getOwnPropertyNames(t.prototype),s=0,r=e;s<r.length;s++){var o=i(n,r[s]);Object.defineProperties(t.prototype,o)}}(e.constructor,t.reverse())}},e.delegate=function(t){return function(e,n){e.constructor.prototype[n]=t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);e.Factory=i.Factory;var s=n(20);e.JilNode=s.JilNode;var r=n(26);e.Transform=r.Transform;var o=n(27);e.Clickable=o.Clickable;var a=n(28);e.TransformTween=a.TransformTween;var h=n(29);e.Layout=h.Layout},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.Vector2=i.Vector2;var s=n(18);e.Vector2Extend=s.Vector2Extend;var r=n(19);e.isString=r.isString,e.getComponent=r.getComponent},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(6);e.resolution=new i.Vector2(1280,720)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.attach=function(t,e){this._attach(t,e,!1)},t.prototype.once=function(t,e){this._attach(t,e,!0)},t.prototype._attach=function(t,e,n){var i,s,r;if("function"==typeof t)s=t;else if(e||"function"!=typeof t.post){if("object"!=typeof t)throw new Error("Expect a function or object as first argument");if("function"!=typeof e)throw new Error("Expect a function as second argument");i=t,s=e}else r=t;this._listeners?this._listeners=this._listeners.slice():this._listeners=[],this._listeners.push({deleted:!1,boundTo:i,handler:s,event:r,once:n})},t.prototype.detach=function(){for(var t,e,n,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];this._listeners&&0!==this._listeners.length&&(i.length>=1&&("function"==typeof i[0]?e=i[0]:1===i.length&&"function"==typeof i[0].post?n=i[0]:t=i[0]),i.length>=2&&(e=i[1]),this._listeners=this._listeners.filter(function(i){return void 0!==e&&i.handler!==e||void 0!==n&&i.event!==n||void 0!==t&&i.boundTo!==t||(i.deleted=!0,!1)}),0===this._listeners.length&&delete this._listeners)},t.prototype.post=function(t){throw new Error("abstract")},t.prototype.listenerCount=function(){return this._listeners?this._listeners.length:0},t.prototype._call=function(t,e){t.deleted||(t.once&&(t.deleted=!0,this._listeners=this._listeners.filter(function(e){return e!==t}),0===this._listeners.length&&delete this._listeners),t.event?t.event.post.apply(t.event,e):t.handler.apply("object"==typeof t.boundTo?t.boundTo:this,e))},t}();e.BaseEvent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Vector2=class{constructor(t,e){this.x=0,this.y=0,t&&(this.x=t),e&&(this.y=e)}set(t,e){this.x=t,this.y=e}}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(5)),i(n(8)),i(n(13)),i(n(14)),i(n(24));var s=n(9),r=n(9);e.EventQueue=r.default,e.queue=function(){return s.default.global()},e.flushOnce=function(){s.default.global().flushOnce()},e.flush=function(t){void 0===t&&(t=10),s.default.global().flush(t)}},function(t,e,n){"use strict";var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._recursion=0,e}return s(e,t),e.prototype.post=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this._listeners&&0!==this._listeners.length){if(this._recursion++,e.MAX_RECURSION_DEPTH>0&&this._recursion>e.MAX_RECURSION_DEPTH)throw new Error("event fired recursively");for(var i=this._listeners,s=0;s<i.length;++s){var r=i[s];this._call(r,t)}this._recursion--}},e.MAX_RECURSION_DEPTH=10,e}(n(5).BaseEvent);e.SyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidSyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorSyncEvent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),s=function(){function t(){this.evtFilled=new i.SyncEvent,this.evtDrained=new i.SyncEvent,this._queue=[],this._flushing=!1}return t.global=function(){return t._instance||t.resetGlobal(),t._instance},t.resetGlobal=function(){t._instance=new t},t.prototype.empty=function(){return 0===this._queue.length},t.prototype.add=function(t){this._queue.push(t),1!==this._queue.length||this._flushing||this.evtFilled.post(this)},t.prototype.flushOnce=function(){var t=0===this._queue.length,e=this._flushing;this._flushing=!0;try{var n=this._queue;this._queue=[];for(var i=0;i<n.length;++i)n[i]()}finally{this._flushing=e,t||e||0!==this._queue.length||this.evtDrained.post(this)}},t.prototype.flush=function(t){void 0===t&&(t=10);var e=0===this._queue.length,n=this._flushing;this._flushing=!0;try{for(var i=0;this._queue.length>0;){if("number"==typeof t&&i>=t)throw this._queue=[],new Error("unable to flush the queue due to recursively added event. Clearing queue now");this.flushOnce(),++i}}finally{this._flushing=n,e||n||0!==this._queue.length||this.evtDrained.post(this)}},t}();e.default=s},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTween=class{constructor(){this.events={},this.elapsed=0,this.duration=0,this.timescale=1,this.state=0,this.first=!0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}start(){return 0!==this.state?this:(this.first?this.validate():this.check(),this.state=1,this.parent.addTick(this.tickCb),this.first&&(this.emitEvent(this.events.start),this.first=!1),this)}recycle(){this.reset(!0),this.first=!0}reset(t){this.state=0,t||this.removeParent(),this.loop&&(this.loop.value=this.loop.original),this.loopInit(),this.emitEvent(this.events.restart)}resetAndStart(t){this.loopInit(),this.emitEvent(this.events.restart),this.state=1,t>0&&this.tickCb(t)}setParent(t){return this.removeParent(),this.parent=t,this}setTimescale(t){return this.timescale=t,this}pause(){1===this.state?(this.state=2,this.removeParent()):this.info(1,"Cannot pause this tween ",this.state)}resume(){2===this.state?(this.state=1,this.parent.addTick(this.tickCb)):this.info(1,"Cannot resume this tween ",this.state)}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else if(0===this.state&&this.emitEvent(this.events.start),t){const t=this.yo?this.yo.value*this.duration:0;this.tickCb(this.duration-this.elapsed+t)}else this.elapsed=this.duration,this.complete()}kill(){4!==this.state?(this.state=4,this.removeParent(),this.emitEvent(this.events.kill)):this.info(1,"Cannot kill this tween ",this.state)}setLoop(t){return this.loop||(this.loop={original:1,value:1}),this.loop.original=Math.round(t),this.loop.value=this.loop.original,this}setSettings(t){return this.settings?Object.assign(this.settings,t):this.settings=t,this}complete(){this.state>=3?this.info(1,"Cannot complete this tween ",this.state):(this.state=3,this.removeParent(),this.emitEvent(this.events.complete))}removeParent(){this.parent&&this.parent.removeTick(this.tickCb)}check(){}validate(){}loopInit(){this.elapsed=0}info(t,e,n){!this.settings||t>this.settings.logLevel||console.log(e,n)}emit(t,e){if(this.settings&&!this.settings.safe)return t.apply(this,e);try{t.apply(this,e)}catch(t){console.warn(t)}}emitEvent(t,e){if(t)if(t instanceof Array)for(const n of t)this.emit(n,e);else this.emit(t,e)}onStart(t){return this.onEvent("start",t)}onRestart(t){return this.onEvent("restart",t)}onUpdate(t){return this.onEvent("update",t)}onKilled(t){return this.onEvent("kill",t)}onComplete(t){return this.onEvent("complete",t)}onEvent(t,e){return this.events[t]?this.events[t]instanceof Array?this.events[t].push(e):this.events[t]=[this.events[t],e]:this.events[t]=e,this}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0);e.Delay=class extends i.BaseTween{constructor(t){super(),this.remains=0,this.duration=t,this.tickCb=this.tick.bind(this)}tick(t){for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains;const t=Math.max(Math.min(this.elapsed/this.duration,1),0);if(this.events.update&&this.emitEvent(this.events.update,[this.remains,t]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.resetAndStart(0)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0),s=n(6),r=n(1);e.Sequence=class extends i.BaseTween{constructor(t){if(super(),this.evtTick=new Set,this.tweens=[],this.index=0,this.remains=0,this.tickCb=this.tick.bind(this),t){this.tweens=new Array(t.length);for(let e=0;e<t.length;e++)t[e].setParent(this),this.tweens[e]=[t[e]]}}get count(){return this.tweens.length}loopInit(){this.index=0;for(const t of this.tweens)for(const e of t)e.reset()}addTick(t){this.evtTick.add(t)}removeTick(t){this.evtTick.delete(t)}tick(t){this.state>=3||(this.remains=t*this.timescale,this.elapsed+=this.remains,this.localTick(this.remains))}localTick(t,e){if(this.cur||this.nextTween(),this.cur&&(this.evtTick.forEach(function(e){e(t)}),!0!==e&&this.events.update&&this.emitEvent(this.events.update,[t,0])),this.remains=t,this.cur){for(const t of this.cur)if(3!==t.state)return;if(this.remains=this.cur[0].elapsed-this.cur[0].duration,this.events.stepEnd&&this.emitEvent(this.events.stepEnd,this.cur[0]),this.cur=void 0,this.index++,this.remains>.01)return void this.localTick(this.remains,!0)}if(!this.cur&&this.tweens.length===this.index){if(this.loop&&(this.loop.value--,0!==this.loop.value))return void this.resetAndStart(this.remains);this.complete()}}nextTween(){if(this.cur=this.tweens[this.index],this.cur){for(const t of this.cur)t.start();this.events.stepStart&&this.emitEvent(this.events.stepStart,this.cur[0])}}append(t){return t.setParent(this),this.tweens[this.tweens.length]=[t],this}appendCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}appendInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this}prepend(t){return t.setParent(this),this.tweens.unshift([t]),this}prependCallback(t){const e=new s.Callback(t);return e.setParent(this),this.tweens.unshift([e]),this}prependInterval(t){const e=new r.Delay(t);return e.setParent(this),this.tweens.unshift([e]),this}skip(t){if(this.state>=3)this.info(1,"Cannot skip this tween ",this.state);else{for(const e of this.tweens)for(const n of e)0===n.elapsed&&this.emitEvent(this.events.stepStart,n),n.skip(t),this.emitEvent(this.events.stepEnd,n);super.skip()}}kill(){if(4!==this.state){for(const t of this.tweens)for(const e of t)e.kill();super.kill()}else this.info(1,"Cannot kill this tween ",this.state)}join(t){return 0===this.tweens.length?this.append(t):(t.setParent(this),this.tweens[this.tweens.length-1].push(t),this)}onStepStart(t){return this.onEvent("stepStart",t)}onStepEnd(t){return this.onEvent("stepEnd",t)}}},function(t,e,n){"use strict";const i=n(4);t.exports=new i.Fatina},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(5),s=n(1),r=n(2),o=n(7);let a,h,c;"undefined"!=typeof window&&(h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame),e.Fatina=class{constructor(){this.plugin={},this.loadedPlugins=[],this.eventCreated=[],this.settings={logLevel:0,safe:!0,smooth:!0,maxFrameDt:50,maxFrameNumber:40,maxDt:15e3},this.time=0,this.dt=0,this.lastTime=0,this.initialized=!1}get elapsed(){return this.manager.elapsed}get mainTicker(){return this.initialized||this.init(),this.manager}init(t){return!this.initialized&&(this.manager||(this.manager=new i.Ticker,this.manager.start()),"undefined"==typeof window||t||(a=h(this.updateLoop.bind(this))),this.initialized=!0,!0)}setTimescale(t){this.init(),this.manager.setTimescale(t)}pause(){this.init(),this.manager.pause()}resume(){this.init(),this.manager.resume()}destroy(){this.manager&&this.manager.kill(),a&&c(a),this.initialized=!1}update(t){this.initialized&&this.manager&&(this.manager.tick(t),this.time+=t)}tween(t){const e=new o.Tween(t);return this.addContext(e),e}sequence(t){const e=new r.Sequence(t);return this.addContext(e),e}delay(t){const e=new s.Delay(t);return this.addContext(e),e}setTimeout(t,e){const n=new s.Delay(e).onComplete(t);return this.addContext(n),n.start()}setInterval(t,e){const n=new s.Delay(e).onRestart(t).setLoop(-1);return this.addContext(n),n.start()}addContext(t){this.initialized||this.init(),t.setParent(this.manager),0===this.settings.logLevel&&this.settings.safe||t.setSettings(this.settings),this.emitCreated(t)}ticker(){this.initialized||this.init();const t=new i.Ticker,e=t.tick.bind(t);return t.setParent(this.manager,e),this.manager.addTick(e),t.start(),this.emitCreated(t),t}updateLoop(t){if(this.dt+=t-this.lastTime,this.dt>this.settings.maxDt&&(console.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`),this.dt=this.settings.maxDt),this.settings.smooth){let t=0;for(;this.dt>0&&t<this.settings.maxFrameNumber;){const e=Math.min(this.dt,this.settings.maxFrameDt);this.update(e),this.dt-=e,t++}}else this.update(this.dt),this.dt=0;this.lastTime=t,a=h(this.updateLoop.bind(this))}loadPlugin(t){t.init(this),this.loadedPlugins.push(t),this.info(2,"Plugin Loaded",t.name)}info(t,e,n){t>this.settings.logLevel||(n?console.log(e,n):console.log(e))}emit(t,e){if(!this.settings.safe)return t(e);try{t(e)}catch(t){console.warn(t)}}emitCreated(t){for(const e of this.eventCreated)this.emit(e,t)}addListenerCreated(t){this.eventCreated.push(t)}removeListenerCreated(t){const e=this.eventCreated.indexOf(t);-1!==e&&this.eventCreated.splice(e,1)}setLog(t){this.settings.logLevel=t}setSafe(t){this.settings.safe=t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ticker=class{constructor(){this.state=0,this.timescale=1,this.elapsed=0,this.duration=0,this.ticks=new Set,this.newTicks=new Set,this.dt=0}setParent(t,e){this.tickCb=e,this.parent=t}setTimescale(t){this.timescale=t}addTick(t){this.newTicks.add(t)}removeTick(t){this.ticks.delete(t)||this.newTicks.delete(t)}tick(t){1===this.state&&(this.dt=t*this.timescale,this.newTicks.size>0&&(this.newTicks.forEach(t=>this.ticks.add(t)),this.newTicks.clear()),this.ticks.forEach(t=>t(this.dt)),this.elapsed+=this.dt)}start(){0===this.state&&(this.state=1)}pause(){1===this.state&&(this.state=2)}resume(){2===this.state&&(this.state=1)}kill(){this.state>=3||(this.parent&&this.tickCb&&this.parent.removeTick(this.tickCb),this.state=4)}skip(){}reset(){this.state=0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return this.state>=3}get isPaused(){return 2===this.state}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0);e.Callback=class extends i.BaseTween{constructor(t){super(),this.callback=t,this.tickCb=this.tick.bind(this)}tick(t){this.elapsed+=t,this.duration=0,this.callback(),this.emitEvent(this.events.update,[t,1]),this.complete()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(8),s=n(0),r=n(2);e.Tween=class extends s.BaseTween{constructor(t){super(),this.prop=[],this.steps=0,this.relative=!1,this.p=0,this.v=0,this.remains=0,this.obj=t,this.tickCb=this.tick.bind(this)}init(t){this.obj=t,this.prop.length=0}validate(){if(!this.obj)throw new Error("undefined object");if(!this.parent)throw new Error("no ticker");this.ease||(this.ease=i.easeNames.linear),this.check()}check(){this.cf||(this.cf={}),this.ct||(this.ct={});for(const t of this.prop)this.f?(this.cf[t]=this.f[t],this.obj[t]=this.f[t]):this.cf[t]=this.obj[t],this.relative?this.ct[t]=this.obj[t]+this.t[t]:this.ct[t]=this.t[t]}tick(t){if(!(this.state>=3))for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains,this.p=Math.max(Math.min(this.elapsed/this.duration,1),0),this.v=this.ease(this.p),this.yo&&(this.yo.original-this.yo.value)%2==1&&(this.v=1-this.ease(1-this.p)),0!==this.steps&&(this.v=Math.round(this.v*this.steps)/this.steps);for(const t of this.prop)this.obj[t]=this.cf[t]+(this.ct[t]-this.cf[t])*this.v;if(this.events.update&&this.emitEvent(this.events.update,[this.remains,this.p]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,this.yo&&this.yo.value>0)this.reverse(),this.resetAndStart(0),this.yo.value--;else{if(!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.check(),this.resetAndStart(0)}}}from(t){return this.f=t,this.updateProp(),this}to(t,e){return this.t=t,this.duration=e,this.updateProp(),this}updateProp(){if(this.obj){for(const t in this.t)this.t.hasOwnProperty(t)&&this.prop.push(t);this.prop.filter((t,e,n)=>e===n.indexOf(t))}}setRelative(t){return this.relative=t,this}modify(t,e){for(const n of this.prop)t.hasOwnProperty(n)&&(this.obj[n]+=t[n],e?this.ct[n]+=t[n]:this.cf[n]+=t[n])}reset(t){if(this.yo){if((this.yo.original-this.yo.value)%2==1){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3}this.yo.value=this.yo.original}super.reset(t)}reverse(){let t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;const e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3,3===this.state&&(this.reset(!0),this.start())}yoyo(t){return this.yo||(this.yo={original:0,value:0}),this.yo.original=t,this.yo.value=t,this}setSteps(t){return this.steps=t,this}toSequence(){if(!this.parent)throw new Error("parent ticker not defined");return(new r.Sequence).setParent(this.parent).append(this)}setEasing(t){if(!(t in i.easeNames))throw new Error(`unknown easing method ${t}`);return this.ease=i.easeNames[t],this}loopInit(){this.elapsed=0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=Math.PI,s=Math.PI/2,r={linear:t=>t,inQuad:t=>t*t,outQuad:t=>2*t-t*t,inOutQuad:t=>t<.5?2*t*t:2*(2*t-t*t)-1,inCubic:t=>t*t*t,outCubic:t=>3*t-3*t*t+t*t*t,inOutCubic:t=>t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3,inQuart:t=>t*t*t*t,outQuart:t=>{const e=t*t;return 4*t-6*e+4*e*t-e*e},inOutQuart:t=>{if(t<.5)return 8*t*t*t*t;{const e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7}},inSine:t=>1===t?1:1-Math.cos(s*t),outSine:t=>Math.sin(s*t),inOutSine:t=>t<.5?(1-Math.cos(i*t))/2:(1+Math.sin(i*(t-.5)))/2,inCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),outCirc:t=>Math.sqrt(1-Math.pow(1-t,2)),inOutCirc:t=>t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(8*t-3-4*t*t))/2,inQuint:t=>t*t*t*t*t,outQuint:t=>--t*t*t*t*t+1,InOutQuint:t=>(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),inExponential:t=>1===t?1:0===t?0:Math.pow(1024,t-1),outExponential:t=>1===t?1:1-Math.pow(2,-10*t),inOutExponential:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1))),inElastic:t=>0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),outElastic:t=>1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,inOutElastic:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1,inBack:t=>{const e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},outBack:t=>{const e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},inOutBack:t=>{const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},outBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,inBounce:t=>1-r.outBounce(1-t),inOutBounce:t=>t<.5?.5*r.inBounce(2*t):.5*r.outBounce(2*t-1)+.5};e.easeNames=r}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17);e.JilCanvas=i.JilCanvas;var s=n(30);e.JilLayer=s.JilLayer;var r=n(31);e.JilPanel=r.JilPanel;var o=n(32);e.JilScene=o.JilScene;var a=n(33);e.JilButton=a.JilButton;var h=n(34);e.JilImage=h.JilImage;var c=n(35);e.JilText=c.JilText},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(3);e.types={},e.register=function(t,n){e.types[t]=n};e.Factory=class{create(t,n,s){if(!e.types[t])throw new Error(`Cannot create type ${t}`);const r=i.getComponent(this),o=new e.types[t](n,s,r,r._projector);return r.addChild(o),o}}},function(t,e,n){"use strict";var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(9),a=function(t){function e(e){var n=t.call(this)||this;n._queued=!1,n.options=e;var i=e||{};return"boolean"==typeof i.condensed?n._condensed=i.condensed:n._condensed=!1,"object"==typeof i.queue&&null!==i.queue&&(n._queue=i.queue),n}return s(e,t),e.prototype.post=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this._listeners&&0!==this._listeners.length){var i=this._queue?this._queue:o.default.global();if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,i.add(function(){t._queued=!1;for(var e=t._queuedData,n=t._queuedListeners,i=0;i<n.length;++i){var s=n[i];t._call(s,e)}})}else{var s=this._listeners;i.add(function(){for(var n=0;n<s.length;++n){var i=s[n];t._call(i,e)}})}}},e}(r.BaseEvent);e.QueuedEvent=a;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(a);e.VoidQueuedEvent=h;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(!this._listeners||0===this._listeners.length)throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(a);e.ErrorQueuedEvent=c},function(t,e,n){"use strict";(function(t){var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){function n(t){var n=e.call(this)||this;n._queued=!1,n.options=t;var i=t||{};return"boolean"==typeof i.condensed?n._condensed=i.condensed:n._condensed=!1,n}return s(n,e),n.defaultScheduler=function(e){"undefined"!=typeof window?setTimeout(e,0):t(e)},n.setScheduler=function(t){n._scheduler=t},n.prototype.post=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this._listeners&&0!==this._listeners.length)if(this._condensed){if(this._queuedData=e,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,n._scheduler(function(){t._queued=!1;for(var e=t._queuedData,n=t._queuedListeners,i=0;i<n.length;++i){var s=n[i];t._call(s,e)}})}else{var s=this._listeners;n._scheduler(function(){for(var n=0;n<s.length;++n){var i=s[n];t._call(i,e)}})}},n.prototype._call=function(t,i){t.event&&t.event instanceof n?t.event._postDirect(i):e.prototype._call.call(this,t,i)},n.prototype._postDirect=function(t){if(this._listeners&&0!==this._listeners.length)for(var e=this._listeners,n=0;n<e.length;++n){var i=e[n];this._call(i,t)}},n._scheduler=n.defaultScheduler,n}(n(5).BaseEvent);e.AsyncEvent=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(r);e.VoidAsyncEvent=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(r);e.ErrorAsyncEvent=a}).call(this,n(21).setImmediate)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(11),s=n(12),r=n(36);e.SceneManager=r.SceneManager,s.register("button",i.JilButton),s.register("panel",i.JilPanel),s.register("layer",i.JilLayer),s.register("image",i.JilImage),s.register("text",i.JilText),s.register("canvas",i.JilCanvas),e.init=r.SceneManager.init,e.create=r.SceneManager.create,e.use=r.SceneManager.use},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2),a=n(4);class h{constructor(t,e,n,i){this.id=t,this._parent=n,this._projector=i,this.resetClickable(),this.resetNode("canvas"),this.resetTransform()}render(){return r.h("canvas",{id:this.id,key:this.id,width:a.resolution.x,height:a.resolution.y,class:"canvas",onclick:this.click.bind(this),afterCreate:this.handlerAfterCreate.bind(this),afterRemoved:this.handleAfterRemoved.bind(this)})}}i([s.use(o.JilNode,o.Transform,o.Clickable,o.TransformTween)],h.prototype,"this",void 0),e.JilCanvas=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(6);e.Vector2Extend=class{get x(){return this.overwrite.x>0?this.overwrite.x:this.origin.x}set x(t){this.origin.x=t}get y(){return this.overwrite.y>0?this.overwrite.y:this.origin.y}set y(t){this.origin.y=t}constructor(t,e){this.origin=new i.Vector2(t,e),this.overwrite=new i.Vector2}set(t,e){this.origin.set(t,e)}enforce(t,e){this.overwrite.set(t,e)}clear(){this.overwrite.set(0,0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.getComponent=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0),s=n(7),r=n(3);e.JilNode=class{constructor(){this._childrens=[],this.createEvent=new s.SyncEvent,this.destroyEvent=new s.SyncEvent,this.nodeEvent=new s.SyncEvent}get transform(){return r.getComponent(this)}resetNode(t){this.type=t,this._childrens=[],this.createEvent||(this.createEvent=new s.SyncEvent),this.destroyEvent||(this.destroyEvent=new s.SyncEvent),this.nodeEvent||(this.nodeEvent=new s.SyncEvent)}handlerAfterCreate(){this.createEvent&&this.createEvent.post()}handleAfterRemoved(){this.destroyEvent&&this.destroyEvent.post()}onLoad(t){this.createEvent&&this.createEvent.attach(t)}onDestroy(t){this.destroyEvent&&this.destroyEvent.attach(t)}addChild(t){this._childrens.push(t),this.nodeEvent&&this.nodeEvent.post("added"),this.refresh()}removeChild(t){const e=this._childrens.indexOf(t);-1!==e&&(this._childrens.splice(e,1),this.nodeEvent&&this.nodeEvent.post("removed")),this.refresh()}destroy(){this.nodeEvent&&this.nodeEvent.post("destroyed"),this._parent&&this._parent.removeChild(this)}refresh(){this.nodeEvent&&this.nodeEvent.post("refresh"),this._projector&&this._projector.scheduleRender()}render(){return i.h("div",this._childrens.map(t=>t.render()))}find(t){return this._childrens.find(e=>e.id===t)}findByType(t){return this._childrens.find(e=>e.type===t)}findAllByType(t){return this._childrens.filter(e=>e.type===t)}toString(){return`[UI ${this.id}]`}}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(s.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(22),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(15))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,s,r,o,a,h=1,c={},u=!1,l=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){r.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return c[h]=s,i(h),h++},d.clearImmediate=f}function f(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(15),n(23))},function(t,e){var n,i,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var h,c=[],u=!1,l=-1;function d(){u&&h&&(u=!1,h.length?c=h.concat(c):l=-1,c.length&&f())}function f(){if(!u){var t=a(d);u=!0;for(var e=c.length;e;){for(h=c,c=[];++l<e;)h&&h[l].run();l=-1,e=c.length}h=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){"use strict";var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(25),a=n(8),h=n(14),c=n(13);!function(t){t[t.Sync=0]="Sync",t[t.Async=1]="Async",t[t.Queued=2]="Queued"}(r=e.EventType||(e.EventType={}));var u=function(){function t(t){this._events=[],t&&t.monitorAttach&&(this.evtFirstAttached=new l,this.evtLastDetached=new l)}return t.prototype.attach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.Sync;t.length>0&&"number"==typeof t[0]&&(n=t.shift());var i,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?i=t[0]:o=t[0],s=t[1]):(a=t[0],i=t[1],s=t[2]),this._attach(n,a,i,o,s,!1)},t.prototype.once=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.Sync;t.length>0&&"number"==typeof t[0]&&(n=t.shift());var i,s,o,a=this;"function"==typeof t[0]||t[0]&&"object"==typeof t[0]&&"function"==typeof t[0].post?("function"==typeof t[0]?i=t[0]:o=t[0],s=t[1]):(a=t[0],i=t[1],s=t[2]),this._attach(n,a,i,o,s,!0)},t.prototype._attach=function(t,e,n,i,s,u){var l,d=this.evtFirstAttached?this.listenerCount():0;switch(t){case r.Sync:for(var f=0,p=this._events;f<p.length;f++){(w=p[f])instanceof a.SyncEvent&&(l=w)}l||(l=new a.SyncEvent,this._events.push(l));break;case r.Async:for(var v=0,y=this._events;v<y.length;v++){(w=y[v])instanceof h.AsyncEvent&&o.shallowEquals(w.options,s)&&(l=w)}l||(l=new h.AsyncEvent(s),this._events.push(l));break;case r.Queued:for(var m=0,g=this._events;m<g.length;m++){var w;(w=g[m])instanceof c.QueuedEvent&&o.shallowEquals(w.options,s)&&(l=w)}l||(l=new c.QueuedEvent(s),this._events.push(l));break;default:throw new Error("unknown EventType")}u?i?l.once(i):l.once(e,n):i?l.attach(i):l.attach(e,n),this.evtFirstAttached&&0===d&&this.evtFirstAttached.post()},t.prototype.attachSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.attach.apply(this,t)},t.prototype.onceSync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Sync),this.once.apply(this,t)},t.prototype.attachAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.attach.apply(this,t)},t.prototype.onceAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Async),this.once.apply(this,t)},t.prototype.attachQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.attach.apply(this,t)},t.prototype.onceQueued=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift(r.Queued),this.once.apply(this,t)},t.prototype.detach=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this.evtLastDetached?this.listenerCount():0,i=0;i<this._events.length;++i)this._events[i].detach.apply(this._events[i],t);this.evtLastDetached&&n>0&&0===this.listenerCount()&&this.evtLastDetached.post()},t.prototype.post=function(t){for(var e=[],n=0;n<this._events.length;++n)e.push(this._events[n]);for(n=0;n<e.length;++n)e[n].post(t)},t.prototype.listenerCount=function(){for(var t=0,e=0;e<this._events.length;++e)t+=this._events[e].listenerCount();return t},t}();e.AnyEvent=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(){t.prototype.post.call(this,void 0)},e}(u);e.VoidAnyEvent=l;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.post=function(e){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+e.message);t.prototype.post.call(this,e)},e}(u);e.ErrorAnyEvent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEquals=function(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;switch(typeof t){case"boolean":case"number":case"string":case"function":case"symbol":case"undefined":return!1;case"object":if(null===t||null===e)return!1;if(Array.isArray(t)||Array.isArray(e)){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}var i=[],s=[];for(var r in t)t.hasOwnProperty(r)&&i.push(r);for(var o in e)e.hasOwnProperty(o)&&s.push(o);if(i.sort(),s.sort(),i.join(",")!==s.join(","))return!1;for(n=0;n<i.length;++n)if(t[i[n]]!==e[i[n]])return!1;return!0;default:return!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(3),s=n(4);e.Transform=class{constructor(){this.enable=!0,this.anchor=new i.Vector2Extend,this.pivot=new i.Vector2Extend,this.position=new i.Vector2Extend,this.size=new i.Vector2Extend,this.positionPx=new i.Vector2,this.sizePx=new i.Vector2,this.scale=new i.Vector2,this.opacity=1,this.rotation=0}get node(){return i.getComponent(this)}resetTransform(){const t=this,e=i.getComponent(this),n={set:(t,n,i)=>(t[n]=i,e.refresh(),!0)},r={get:(e,n)=>"x"!==n&&"y"!==n?e[n]:t.position[n]*s.resolution[n],set:(e,n,i)=>"x"!==n&&"y"!==n?e[n]=i:(t.position[n]=i/s.resolution[n],!0)},o={get:(e,n)=>"x"!==n&&"y"!==n?e[n]:t.size[n]*s.resolution[n],set:(e,n,i)=>"x"!==n&&"y"!==n?e[n]=i:(t.size[n]=i/s.resolution[n],!0)};this.enable=!0,this.anchor=new Proxy(new i.Vector2Extend,n),this.pivot=new Proxy(new i.Vector2Extend,n),this.position=new Proxy(new i.Vector2Extend,n),this.size=new Proxy(new i.Vector2Extend(1,1),n),this.positionPx=new Proxy(new i.Vector2,r),this.sizePx=new Proxy(new i.Vector2,o),this.scale=new Proxy(new i.Vector2(1,1),n),this.opacity=1,this.rotation=0}getStyle(){let t=`translate(${100*(this.anchor.x/this.size.x-this.pivot.x+this.position.x/this.size.x)}%, ${100*(this.anchor.y/this.size.y-this.pivot.y+this.position.y/this.size.y)}%) `;return 1===this.scale.x&&1===this.scale.y||(t+=`scale(${this.scale.x}, ${this.scale.y}) `),0!==this.rotation&&(t+=`rotate(${this.rotation}deg)`),{display:this.enable&&this.opacity>0?"block":"none",width:`${100*this.size.x}%`,height:`${100*this.size.y}%`,transformOrigin:"top left",opacity:this.opacity.toString(),transform:t,willChange:"transform, opacity"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(7);e.Clickable=class{resetClickable(){this.clickEvent=new i.SyncEvent}click(){this.clickEvent&&this.clickEvent.post()}onClick(t){this.clickEvent&&this.clickEvent.attach(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(10),s=n(3);e.TransformTween=class{_moveTween(t,e,n,r){const o=s.getComponent(this),a=s.getComponent(this),h=i.tween(o.position).to(t,e).setEasing("inOutQuad");return h.onUpdate(()=>a.refresh()),n&&(r&&this.moveTween&&this.moveTween.kill(),h.start()),this.moveTween=h,h}moveX(t=0,e=250,n=!0,i=!1){return this._moveTween({x:t},e,n,i)}moveY(t=0,e=250,n=!0,i=!1){return this._moveTween({y:t},e,n,i)}move(t=0,e=0,n=250,i=!0,s=!0){return this._moveTween({x:t,y:e},n,i,s)}_fadeTween(t,e,n,r){const o=s.getComponent(this),a=i.tween(this).to(t,e).setEasing("inOutQuad");return a.onUpdate(()=>o.refresh()),n&&(r&&this.fadeTween&&this.fadeTween.kill(),a.start()),this.fadeTween=a,a}show(t=150,e=!0,n=!0){return this._fadeTween({opacity:1},t,e,n)}hide(t=150,e=!0,n=!0){return this._fadeTween({opacity:0},t,e,n)}_rotateTween(t,e,n,r){const o=s.getComponent(this),a=i.tween(this).to(t,e).setEasing("inOutQuad");return a.onUpdate(()=>o.refresh()),n&&(r&&this.rotateTween&&this.rotateTween.kill(),a.start()),this.rotateTween=a,a}rotate(t,e=150,n=!0,i=!0){return this._rotateTween({rotation:t},e,n,i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(3);!function(t){t.Default="default",t.Horizontal="horizontal",t.Vertical="vertical",t.Grid="grid"}(e.LayoutType||(e.LayoutType={}));e.Layout=class{constructor(){this.layout="default",this.layoutProperties={}}resetLayout(){const t=i.getComponent(this);t.nodeEvent&&t.nodeEvent.attach(t=>{"added"!==t&&"removed"!==t||this.refreshLayout()})}setLayout(t,e){this.layout=t||"default",this.layoutProperties=e||{},this.refreshLayout()}refreshLayout(){const t=i.getComponent(this);switch(this.layout){case"horizontal":let e=0;for(const n of t._childrens){const i=n.transform;i.size.enforce(1/t._childrens.length,1),i.position.enforce(e/t._childrens.length,0),e++}break;case"vertical":let n=0;for(const e of t._childrens){const i=e.transform;i.size.enforce(1,1/t._childrens.length),i.position.enforce(0,n/t._childrens.length),n++}break;case"grid":let i=0,s=0;const r=Math.ceil(t._childrens.length/2);for(const e of t._childrens){const t=e.transform;t.size.enforce(1/r,.5),t.position.enforce(i/r,s/2),++i>=r&&(i=0,s++)}}}}},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2),a=n(4);class h{constructor(t,e,n,i){this.createPanel=(t=>this.create("panel",t)),this.createButton=((t,e)=>this.create("button",t,e)),this.createImage=((t,e)=>this.create("image",t,e)),this.createText=((t,e)=>this.create("text",t,e)),this.createCanvas=((t,e)=>this.create("canvas",t,e)),this.id=t,this.classname=e||"",this._parent=n,this._projector=i,this.resetNode("layer"),this.resetTransform(),"undefined"!=typeof window&&window.addEventListener("resize",this.resizeHandler.bind(this),!1)}resizeHandler(){this.refresh()}render(){const t={};if(t.display=this.enable?"block":"none",t.opacity=this.opacity.toString(),"undefined"!=typeof window&&window.innerWidth>0&&window.innerWidth>0){const e=window.innerWidth/window.innerHeight,n=a.resolution.x/a.resolution.y,i=window.innerWidth/a.resolution.x,s=window.innerHeight/a.resolution.y,r=e<=n?i:s;t.width=`${a.resolution.x}px`,t.height=`${a.resolution.y}px`,t.transformOrigin="top left",t.transform=`scale(${r})`}return r.h("div",{id:this.id,key:this.id,class:`layer ${this.classname}`.trim(),styles:t},this._childrens.map(t=>t.render()))}}i([s.use(o.JilNode,o.Transform,o.Factory,o.TransformTween)],h.prototype,"this",void 0),e.JilLayer=h},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2);class a{constructor(t,e,n,i){this.createPanel=(t=>this.create("panel",t)),this.createButton=((t,e)=>this.create("button",t,e)),this.createImage=((t,e)=>this.create("image",t,e)),this.createText=((t,e)=>this.create("text",t,e)),this.createCanvas=((t,e)=>this.create("canvas",t,e)),this.id=t,this._parent=n,this._projector=i,this.resetNode("panel"),this.resetTransform(),this.resetLayout()}render(){return r.h("div",{id:this.id,key:this.id,class:"panel",styles:this.getStyle()},this._childrens.map(t=>t.render()))}}i([s.use(o.JilNode,o.Transform,o.Factory,o.TransformTween,o.Layout)],a.prototype,"this",void 0),e.JilPanel=a},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(7),a=n(2),h=n(4);class c{constructor(t,e){this.createLayer=((t,e)=>this.create("layer",t,e)),this.id=t,this.enterEvent=new o.SyncEvent,this.leaveEvent=new o.SyncEvent,this._projector=e,this.resetNode("scene"),this.resetTransform(),this.enable=!1}enter(){this.enable||(this.enable=!0,this.enterEvent.post(),this.refresh())}leave(){this.enable&&(this.enable=!1,this.leaveEvent.post(),this.refresh())}render(){const t={};return t.display=this.enable?"block":"none",("undefined"!=typeof window?window.innerWidth/window.innerHeight:1)<=h.resolution.x/h.resolution.y?(t.width="100vw",t.height="56.25vw",t.marginTop="-28.125vw",t.marginLeft="0vw",t.top="50vh",t.left="0vh"):(t.width="177vh",t.height="100vh",t.marginTop="0vh",t.marginLeft="-88.5vh",t.top="0vw",t.left="50vw"),r.h("div",{id:this.id,key:this.id,class:"scene",styles:t},this._childrens.map(t=>t.render()))}onEnter(t){this.enterEvent.attach(t)}onLeave(t){this.leaveEvent.attach(t)}}i([s.use(a.JilNode,a.Transform,a.Factory)],c.prototype,"this",void 0),e.JilScene=c},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2);class a{constructor(t,e,n,i){this.id=t,this.text=e,this._parent=n,this._projector=i,this.resetClickable(),this.resetNode("button"),this.resetTransform()}render(){return r.h("button",{id:this.id,key:this.id,type:"button",class:"nes-btn",styles:this.getStyle(),onclick:this.click.bind(this)},[this.text])}}i([s.use(o.JilNode,o.Transform,o.Clickable,o.TransformTween)],a.prototype,"this",void 0),e.JilButton=a},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2),a=n(3);class h{constructor(t,e,n,i){this.id=t,this.src="",e&&(this.src=a.isString(e)?e:e.src),this.styles=e||{},this._parent=n,this._projector=i,this.resetClickable(),this.resetNode("image"),this.resetTransform()}render(){return r.h("img",{id:this.id,key:this.id,src:this.src,styles:this.styles?Object.assign(this.getStyle(),this.styles):this.getStyle(),onclick:this.click.bind(this)})}}i([s.use(o.JilNode,o.Transform,o.Clickable,o.TransformTween)],h.prototype,"this",void 0),e.JilImage=h},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(0),o=n(2),a=n(3);class h{constructor(t,e,n,i){this.id=t,this.text="Default Text",e&&(this.text=a.isString(e)?e:e.text),this.styles=e||{},this._parent=n,this._projector=i,this.resetNode("text"),this.resetTransform()}render(){return r.h("div",{id:this.id,key:this.id,class:"text",styles:this.styles?Object.assign(this.getStyle(),this.styles):this.getStyle()},[this.text])}}i([s.use(o.JilNode,o.Transform,o.TransformTween)],h.prototype,"this",void 0),e.JilText=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(11),s=n(0),r=n(37),o=n(4),a=n(10);let h,c,u={},l=[];e.SceneManager=class{static get Current(){return c}static init(t,e){a.init(),l=[],u={};const n=()=>s.h("div",{id:"root"},l.map(t=>t.render()));"undefined"!=typeof document?(h=s.createProjector()).append(document.body,n):h={scheduleRender:()=>{}},t&&e&&o.resolution.set(t,e)}static create(t){if(!h)throw new Error("JIL is not initialized, please call .init() before using it");return u[t]=new i.JilScene(t,h),l.push(u[t]),h.scheduleRender(),u[t]}static use(t){if(!h)throw new Error("JIL is not initialized, please call .init() before using it");c!==u[t]&&(r.FadeInOut(c,u[t]),c=u[t])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(10);e.FadeInOut=function(t,e){const n=i.sequence();if(t){const e=t.createLayer(`FaderOut_${Math.round(1e5*Math.random())}`,"fader");e.opacity=0,n.append(e.show(250,!1)),n.appendCallback(()=>t.leave()),n.appendCallback(()=>e.destroy())}else n.appendInterval(500);const s=e.createLayer(`FaderIn_${Math.round(1e5*Math.random())}`,"fader");s.opacity=1,n.appendCallback(()=>e.enter());const r=s.hide(350,!1);r.onUpdate(()=>s.refresh()),n.append(r),n.appendCallback(()=>s.destroy()),n.start()}}])});